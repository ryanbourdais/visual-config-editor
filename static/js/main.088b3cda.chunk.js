(this["webpackJsonpvisual-config-editor"]=this["webpackJsonpvisual-config-editor"]||[]).push([[0],{141:function(e,t,n){},142:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(17),o=n.n(r),i=n(6),s=n(58),l=n(5),d=Object(i.d)(),u=d.useStoreActions,b=(d.useStoreDispatch,d.useStoreState);function m(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}var j=n(76),f=n(1),p=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),r=n[0],o=n[1],i=Object(a.useState)({left:0,top:0}),s=Object(l.a)(i,2),d=s[0],u=s[1],b=Object(a.useRef)(null);Object(a.useEffect)((function(){if(b.current){var t=b.current.getBoundingClientRect();u({left:t.x,top:t.y+t.height+(e.space||4)}),window.addEventListener("click",(function(){o(!1)}))}}),[r,e.space]);var m=c.a.Children.toArray(e.children),p=Object(j.a)(m),x=p[0],v=p.slice(1);return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("button",{className:e.className,ref:b,type:"button",onClick:function(e){o(!r),e.stopPropagation()},children:x}),r&&Object(f.jsx)("div",{className:"fixed w-max h-max z-20 flex flex-col",style:d,children:v})]})},x=n(77),v=function(){var e=b((function(e){return e.config})),t=b((function(e){return e.editingConfig})),n=u((function(e){return e.loadConfig})),c=Object(a.useRef)(null),r=function(e){var t=null===e||void 0===e?void 0:e.match("# SDK Version: .*\n");if(e&&t&&t.index){var n="# VCE Version: ".concat(x.a,"\n# Modeled with the CircleCI visual config editor.\n# For more information, see https://github.com/CircleCI-Public/visual-config-editor\n"),a=t.index+t[0].length;return e.substring(0,a)+n+e.substring(a,e.length)}return e};return Object(f.jsxs)("div",{className:"bg-circle-gray-900 h-2/5 w-full flex flex-col",children:[Object(f.jsxs)("div",{className:"border-b text-xl border-circle-gray-800 font-bold flex flex-row",children:[Object(f.jsx)("div",{className:"ml-4 border-b-4 px-3 py-3 w-max text-sm tracking-wide font-bold text-white border-white",children:"CONFIG"}),Object(f.jsxs)("div",{className:"p-2 ml-auto",children:[Object(f.jsx)("input",{type:"file",accept:".yml,.yaml",ref:c,className:"hidden",onChange:function(e){e.target.files&&e.target.files[0].text().then((function(e){n(e)}))}}),Object(f.jsxs)(p,{className:"rounded-md bg-circle-gray-300 text-circle-black px-2 hover:bg-circle-gray-400",children:[Object(f.jsx)("p",{children:"\u2022\u2022\u2022"}),Object(f.jsxs)("div",{className:"bg-white flex-col flex rounded shadow text-base",children:[Object(f.jsx)("button",{className:"border-b border-circle-gray-300 pl-3 pr-8 text-left hover:bg-circle-gray-300",onClick:function(e){var t;null===(t=c.current)||void 0===t||t.click(),e.stopPropagation()},children:"Open"}),Object(f.jsx)("button",{className:"border-b border-circle-gray-300 pl-3 pr-8 text-left hover:bg-circle-gray-300",children:"Save"})]})]})]})]}),Object(f.jsx)("div",{className:"flex-1 overflow-hidden",children:t?Object(f.jsx)(s.a,{theme:"vs-dark",language:"yaml",original:e&&r(e),modified:t&&r(t)}):Object(f.jsx)(s.b,{theme:"vs-dark",wrapperProps:{className:"flex-1 flex-grow"},language:"yaml",value:e&&r(e)})})]})},h=n(2),O=function(e){var t=e.width,n=b((function(e){return e.navigation})),a=n.component.Component;return Object(f.jsx)("div",{className:"h-full border-l border-circle-gray-300 pt-6 bg-white flex flex-col overflow-y-hidden",style:{width:t},children:Object(f.jsx)(a,Object(h.a)({},n.props))})},g=function(e){return Object(f.jsx)("svg",{viewBox:"0 0 24 24",className:e.className,fill:e.color,children:Object(f.jsx)("path",{d:"M13,12.0005 L13,14.5005 C13,15.8812153 14.1192847,17.0005 15.5,17.0005 C16.7716732,17.0005 17.8215783,16.0510253 17.9794794,14.8223119 C16.8252603,14.4045443 16,13.2985065 16,12.0005 C16,10.3434832 17.3434471,9.0005 19,9.0005 C20.6565529,9.0005 22,10.3434832 22,12.0005 C22,13.3107265 21.1591278,14.4253528 19.9878345,14.8339277 C19.8172144,17.1635097 17.8731367,19.0005 15.5,19.0005 C13.0147153,19.0005 11,16.9857847 11,14.5005 L11,12.0005 L11,9.4995 C11,8.11906389 9.88099443,7.0005 8.5,7.0005 C7.2278041,7.0005 6.17794274,7.94975945 6.020417,9.17853139 C7.17480406,9.5960731 8,10.7018409 8,12.0005 C8,13.6567847 6.65628475,15.0005 5,15.0005 C3.34371525,15.0005 2,13.6567847 2,12.0005 C2,10.6896797 2.84072326,9.57538027 4.01209968,9.16698275 C4.18228055,6.83714058 6.12646259,5.0005 8.5,5.0005 C10.9853872,5.0005 13,7.0143176 13,9.4995 L13,12.0005 Z M6,12.0005 C6,11.4482074 5.55213797,11.0005 5,11.0005 C4.44786203,11.0005 4,11.4482074 4,12.0005 C4,12.5522153 4.44828475,13.0005 5,13.0005 C5.55171525,13.0005 6,12.5522153 6,12.0005 Z M20,12.0005 C20,11.4482074 19.552138,11.0005 19,11.0005 C18.447862,11.0005 18,11.4482074 18,12.0005 C18,12.5522153 18.4482847,13.0005 19,13.0005 C19.5517153,13.0005 20,12.5522153 20,12.0005 Z"})})},w=function(e){return Object(f.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",className:e.className,fill:"none",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 7V1C7 0.447715 7.44772 0 8 0C8.55229 0 9 0.447715 9 1V7H15C15.5523 7 16 7.44772 16 8C16 8.55229 15.5523 9 15 9H9V15C9 15.5523 8.55229 16 8 16C7.44772 16 7 15.5523 7 15V9H1C0.447715 9 0 8.55229 0 8C0 7.44772 0.447715 7 1 7H7Z",fill:"#343434"})})},y=function(e){return Object(f.jsx)("button",Object(h.a)(Object(h.a)({},e),{},{className:"bg-circle-gray-300 h-10 w-14 rounded "+e.className,children:Object(f.jsx)(w,{className:"m-auto"})}))},N=n(9),C=function(e){return Object(f.jsx)("svg",{viewBox:"0 0 14 14",className:e.className,children:Object(f.jsx)("path",{d:e.expanded?"M4.20710678,6 L11.7928932,6 C12.0690356,6 12.2928932,6.22385763 12.2928932,6.5 C12.2928932,6.63260824 12.2402148,6.7597852 12.1464466,6.85355339 L8.35355339,10.6464466 C8.15829124,10.8417088 7.84170876,10.8417088 7.64644661,10.6464466 L3.85355339,6.85355339 C3.65829124,6.65829124 3.65829124,6.34170876 3.85355339,6.14644661 C3.94732158,6.05267842 4.07449854,6 4.20710678,6 Z":"M6,11.7928932 L6,4.20710678 C6,3.93096441 6.22385763,3.70710678 6.5,3.70710678 C6.63260824,3.70710678 6.7597852,3.7597852 6.85355339,3.85355339 L10.6464466,7.64644661 C10.8417088,7.84170876 10.8417088,8.15829124 10.6464466,8.35355339 L6.85355339,12.1464466 C6.65829124,12.3417088 6.34170876,12.3417088 6.14644661,12.1464466 C6.05267842,12.0526784 6,11.9255015 6,11.7928932 Z"})})},k=["name","field","meta","helper"],E=function(e){e.name;var t=e.field,n=e.meta,a=e.helper,c=Object(N.a)(e,k),r=n.value,o=n.initialValue,i=a.setValue;return Object(f.jsx)(S,Object(h.a)(Object(h.a)(Object(h.a)({},t),c),{},{value:r||o,onChange:function(e){i(e)}}))},S=function(e){var t=c.a.Children.toArray(e.children),n=t.findIndex((function(t){return t.props.value===e.value})),r=Object(a.useState)(n),o=Object(l.a)(r,2),i=o[0],s=o[1];return Object(f.jsxs)(p,{className:"rounded border border-circle-gray-300 px-2 shadow-sm hover:border-circle-gray-700 "+e.className,children:[Object(f.jsxs)("div",{className:"flex flex-row",children:[e.icon,Object(f.jsx)("div",{className:"".concat(-1===i?"text-circle-gray-500":"text-circle-black"," ml-2 leading-10"),children:i>-1?t[i].props.children:e.placeholder}),Object(f.jsx)("div",{className:"ml-auto py-2",children:Object(f.jsx)(C,{className:"w-3 h-5 mr-3 ml-3",expanded:!0})})]}),Object(f.jsx)("div",{className:"bg-white py-2 shadow-lg "+e.dropdownClassName,children:t.map((function(n,a){return Object(f.jsx)("button",{className:"px-3 py-1 text-left w-full hover:bg-circle-gray-200 ".concat(a>0&&"border-t border-circle-gray-300"),onClick:function(){s(a),e.onChange&&e.onChange(t[a].props.value)},children:n.props.children},a)}))})]})},T=n(8),L=n(18),M=n(4),A=n(11),P=n(150),I=function(e){return Object(f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:e.className,fill:"none",stroke:"black",children:Object(f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})})},R=function(e){return Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsx)(I,{className:"ml-1 mr-2 w-5 h-5"})," ",e.data.name]})},_=n(7),V=["label"],q=function(e,t,n,a,c){var r;return e.children&&"select"===e.as?Object(f.jsx)(E,Object(h.a)(Object(h.a)({},e),{},{name:e.name,meta:n,field:t,helper:a,placeholder:e.placeholder,className:"w-full "+e.className,children:e.children})):null!==(r=e.children)&&void 0!==r?r:Object(f.jsx)(_.a,Object(h.a)(Object(h.a)(Object(h.a)({},t),e),{},{className:"".concat("checkbox"!==e.type?"w-full":"ml-auto"," \n        border-2 rounded p-1 ").concat(c?"border-circle-red":"border-circle-gray-300")}))},W=function(e){var t=e.label,n=Object(N.a)(e,V),c=Object(_.e)(n),r=Object(l.a)(c,3),o=r[0],i=r[1],s=r[2],d=i.touched,u=i.error,b=i.value;return Object(a.useEffect)((function(){n.value&&b!==n.value&&s.setValue(n.value)}),[s,b,n.value]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"".concat("checkbox"===n.type&&"flex flex-row"," mb-3 ").concat(n.className),hidden:n.hidden,children:[Object(f.jsxs)("div",{className:"flex flex-row mb-2",children:[Object(f.jsx)("p",{className:"font-bold leading-5 tracking-wide",children:t}),n.required&&Object(f.jsx)("span",{className:"ml-auto tracking-wide leading-6 text-sm text-circle-gray-400 font-medium",children:"Required"})]}),q(n,o,i,s,u),d&&u&&Object(f.jsx)("span",{className:"text-sm text-circle-red",children:u})]}),n.dependent&&n.dependent(b)]})},B=n(48),H=function(e){return Object(f.jsx)("svg",{viewBox:"0 0 12 12",className:e.className,children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.42616 6L11.7046 10.2785C12.0985 10.6723 12.0985 11.3108 11.7046 11.7046C11.3108 12.0985 10.6723 12.0985 10.2785 11.7046L6 7.42616L1.72153 11.7046C1.3277 12.0985 0.68919 12.0985 0.295367 11.7046C-0.0984557 11.3108 -0.0984557 10.6723 0.295367 10.2785L4.57384 6L0.295367 1.72153C-0.0984557 1.3277 -0.0984557 0.68919 0.295367 0.295367C0.68919 -0.0984557 1.3277 -0.0984557 1.72153 0.295367L6 4.57384L10.2785 0.295367C10.6723 -0.0984557 11.3108 -0.0984557 11.7046 0.295367C12.0985 0.68919 12.0985 1.3277 11.7046 1.72153L7.42616 6V6Z",fill:e.color})})},Z=function(e){return Object(f.jsx)("svg",{viewBox:"0 0 16 6",className:e.className,fill:e.color,children:Object(f.jsx)("path",{d:"M16 1C16 0.447715 15.5523 0 15 0H1C0.447715 0 0 0.447715 0 1C0 1.55228 0.447715 2 1 2H15C15.5523 2 16 1.55228 16 1ZM0 5C0 5.55228 0.447715 6 1 6H15C15.5523 6 16 5.55228 16 5C16 4.44772 15.5523 4 15 4H1C0.447715 4 0 4.44772 0 5Z"})})},D=function(e){var t=Object(a.useState)(e.expanded||!1),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(f.jsxs)("div",{className:e.classNameExpanded&&c?e.classNameExpanded:e.className,children:[Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsxs)("button",{onClick:function(t){var n=!c;r(n),e.onChange&&e.onChange(n)},type:"button",className:"flex flex-row flex-1",children:[Object(f.jsx)(C,{className:"w-3 h-5 mr-3",expanded:c}),Object(f.jsx)("p",{className:"font-bold leading-5 tracking-wide",children:e.title})]}),c&&e.titleExpanded]}),c&&Object(f.jsx)("div",{className:"ml-4",children:e.children})]})},J=["label","values","description","emptyText","listItem"],F=function(e){var t=e.index,n=e.arrayHelper,a=e.children;return Object(f.jsx)(B.b,{draggableId:"".concat(t),index:t,children:function(e,c){return Object(f.jsxs)("div",Object(h.a)(Object(h.a)({className:"w-full mb-2 p-1 px-3 text-sm \nbg-white border border-circle-gray-300 rounded-md2 flex flex-row",ref:e.innerRef},e.draggableProps),{},{children:[Object(f.jsx)("div",Object(h.a)(Object(h.a)({className:"ml-auto mr-3"},e.dragHandleProps),{},{children:Object(f.jsx)(Z,{className:"w-4 h-6 py-1",color:"#AAAAAA"})})),a,Object(f.jsx)("button",{onClick:function(){n.remove(t)},type:"button",className:"my-auto",children:Object(f.jsx)(H,{className:"w-3 h-3",color:"#AAAAAA"})})]}))}},t)},z=function(e){var t,n=e.label,a=e.values,c=(e.description,e.emptyText),r=e.listItem,o=Object(N.a)(e,J),i=Object(_.e)(o),s=Object(l.a)(i,1)[0],d=r;return Object(f.jsx)(D,{title:n,titleExpanded:o.titleExpanded,expanded:o.expanded,children:(null===(t=s.value)||void 0===t?void 0:t.length)>0?Object(f.jsx)(_.b,Object(h.a)(Object(h.a)({},s),{},{name:o.name,render:function(e){return Object(f.jsx)(B.a,{onDragEnd:function(t){t.destination&&e.move(t.source.index,t.destination.index)},children:Object(f.jsx)(B.c,{droppableId:"droppable",children:function(t){return Object(f.jsxs)("div",Object(h.a)(Object(h.a)({},t.droppableProps),{},{ref:t.innerRef,className:"p-2 pr-0",children:[s.value.map((function(t,n){return Object(f.jsx)(F,{index:n,arrayHelper:e,children:Object(f.jsx)(d,{item:t,index:n,values:a})},n)})),t.placeholder]}))}})})}})):Object(f.jsx)("p",{className:"ml-2 font-medium text-sm text-circle-gray-500",children:c})})},K=function(e){return Object(f.jsx)("svg",{viewBox:"0 0 16 16",className:e.className,fill:e.color,children:Object(f.jsx)("path",{d:"M11.6568842,7.24302798 C11.9577895,7.54393324 12.0268424,7.98889307 11.864043,8.35591473 C11.8154617,8.46509554 11.746442,8.56741392 11.6568842,8.65697164 C11.6570333,8.65709247 11.6569588,8.65716701 11.6568842,8.65724154 L6.70713677,13.606989 C6.31661248,13.9975133 5.6834475,13.9975133 5.29292321,13.606989 L5.29286323,13.606929 C4.90233894,13.2164047 4.90233894,12.5832398 5.29286323,12.1927155 L9.53557889,7.94999981 L5.29286323,3.70728415 C4.90233894,3.31675986 4.90233894,2.68359488 5.29286323,2.29307059 L5.29292321,2.29301061 C5.6834475,1.90248631 6.31661248,1.90248631 6.70713677,2.29301061 L11.6568842,7.24275807 C11.6569588,7.24283261 11.6570333,7.24290715 11.6571078,7.2429817 Z"})})},X=function(){var e=b((function(e){return e.navigation})),t=u((function(e){return e.navigateBack})),n=[],a=e,c=0,r=function(){var e=c;if(c>0&&n.push(Object(f.jsx)(K,{className:"pl-1 w-5 h-5",color:"#6A6A6A"},"breadcrumb-".concat(e,"-arrow"))),n.push(Object(f.jsx)("button",{className:0===e?"font-medium text-black ml-1 cursor-default whitespace-nowrap":"text-circle-gray-500 hover:underline hover:text-black overflow-ellipsis whitespace-nowrap",onClick:function(){e>0&&t({distance:e})},children:e>1?"...":a.component.Label(a.props)},"breadcrumb-".concat(e,"-link"))),a.component.Icon){var r=a.component.Icon(a.props);r&&n.push(Object(f.jsx)("div",{children:r},"breadcrumb-".concat(e,"-icon")))}c++,a=a.from};do{r()}while(void 0!==a);return n.reverse(),Object(f.jsx)("nav",{className:"px-6",children:Object(f.jsx)("div",{className:"flex items-center",children:n.map((function(e){return e}))})})},G={run:{name:"Run a command",description:"Used for invoking all command-line programs",summary:function(e){return Object(f.jsx)("p",{className:"inline",children:e.parameters.command})},fields:Object(f.jsxs)("div",{children:[Object(f.jsx)(W,{label:"Command",as:"textarea",required:!0,name:"parameters.command"}),Object(f.jsx)(W,{label:"Shell",name:"parameters.shell"}),Object(f.jsx)(W,{label:"Background",type:"checkbox",name:"parameters.background"}),Object(f.jsx)(W,{label:"Working Directory",name:"parameters.working_directory"}),Object(f.jsx)(W,{label:"No Output Timeout",name:"parameters.no_output_timeout"}),Object(f.jsxs)(W,{label:"When",as:"select",name:"parameters.when",children:[Object(f.jsx)("option",{value:"undefined",children:"Select When"}),Object(f.jsx)("option",{value:"always",children:"Always"}),Object(f.jsx)("option",{value:"on_success",children:"On Success"}),Object(f.jsx)("option",{value:"on_fail",children:"On Fail"})]})]})},checkout:{name:"Checkout",description:"A special step used to check out source code to the configured path",fields:Object(f.jsx)(W,{label:"Path",name:"parameters.path"})},persist_to_workspace:{name:"Persist To Workspace",description:"Persist a temporary file to be used by another job in the workflow",fields:Object(f.jsxs)("div",{children:[Object(f.jsx)(W,{label:"Root",name:"parameters.root",required:!0}),Object(f.jsx)(W,{label:"Path",name:"parameters.path",required:!0})]})},attach_workspace:{name:"Attach Workspace",description:"Attach the workflow\u2019s workspace to the current container",fields:Object(f.jsx)(W,{label:"At",name:"parameters.at",required:!0})},store_artifacts:{name:"Store Artifacts",description:"Step to store artifacts such as logs and binaries",fields:Object(f.jsxs)("div",{children:["Path",Object(f.jsx)(_.a,{required:!0,name:"parameters.path",className:"p-1 w-full border-circle-light-blue border-2 rounded"}),Object(f.jsx)("br",{}),"Destination",Object(f.jsx)(_.a,{name:"parameters.destination",className:"p-1 w-full border-circle-gray-300 border-2 rounded"})]})},store_test_results:{name:"Store Test Results",description:"Upload and store test results for a build",fields:Object(f.jsx)(W,{label:"Path",name:"parameters.path",required:!0})},save_cache:{name:"Save Cache",description:"Generates and stores a cache of a file or directory in object storage",fields:Object(f.jsxs)("div",{children:[Object(f.jsx)(W,{label:"Path",name:"parameters.path",required:!0}),Object(f.jsx)(W,{label:"Key",name:"parameters.key",required:!0}),Object(f.jsxs)(W,{label:"When",name:"parameters.when",as:"select",children:[Object(f.jsx)("option",{value:"undefined",children:"Select When"}),Object(f.jsx)("option",{value:"always",children:"Always"}),Object(f.jsx)("option",{value:"on_success",children:"On Success"}),Object(f.jsx)("option",{value:"on_fail",children:"On Fail"})]})]})}},U={integer:function(e){return{className:"w-full",type:"number"}},enum:function(e){return{as:"select",className:"w-full",children:e.enumValues.map((function(e){return Object(f.jsx)("option",{value:e,children:e})}))}},string:function(e){return{placeholder:e.defaultValue}},boolean:function(e){return{type:"checkbox"}},executor:function(e){return{}},steps:function(e){return{}},env_var_name:function(e){return{}}},Y=function(e){var t=e.paramList,n=e.parent,c=e.props;return Object(f.jsx)(f.Fragment,{children:t.parameters.map((function(e,t){return Object(a.createElement)(W,Object(h.a)(Object(h.a)({},c),{},{label:e.name,key:t,name:n?"".concat(n,".").concat(e.name):e.name},U[e.type](e)))}))})},$=function(e){var t=Object(a.useState)(e.activeTab||0),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(f.jsxs)("div",{className:"h-full",children:[Object(f.jsx)("div",{className:"flex border-b border-circle-gray-300 pl-6",children:e.tabs.map((function(t,n){return Object(f.jsx)("button",{type:"button",className:"text-sm tracking-wide px-3 py-3 font-bold text-center ".concat(n===c?"border-black border-b-4 text-circle-black":"text-circle-gray-600 mb-1"),onClick:function(){e.onChange&&e.onChange(n),r(n)},children:t},n)}))}),Array.isArray(e.children)?e.children[c]:e.children]})},Q=function(e){var t,n,a=u((function(e){return e.navigateBack})),c=b((function(e){return e.definitions})),r=e.subtype||(null===(t=e.values)||void 0===t?void 0:t.name),o="string"===typeof r,i=o&&r in G,s=i?G[r]:void 0;return i||(n=o?c.commands.find((function(e){return e.name=r})):r),Object(f.jsxs)("div",{className:"h-full flex flex-col",children:[Object(f.jsxs)("header",{children:[Object(f.jsx)(X,{}),Object(f.jsx)("h1",{className:"ml-6 text-2xl py-2 font-bold",children:"New Step"})]}),Object(f.jsx)(_.d,{initialValues:e.values||{parameters:void 0},enableReinitialize:!0,onSubmit:function(t){var c,o=i?r:null===(c=n)||void 0===c?void 0:c.name,s=i?t.parameters:t;a({toast:{label:null!==o&&void 0!==o?o:"",content:"saved",status:"success"},distance:1,apply:function(t){if(e.editing){if(void 0===e.index)return console.error("Step index was undefined when editing step."),t;t.steps[e.index]=Object(T.a)({},o,s)}else t.steps=[].concat(Object(L.a)(t.steps),[Object(T.a)({},o,s)]);return t}})},children:function(t){var a,c,r;return Object(f.jsxs)(_.c,{className:"flex flex-col flex-1",children:[Object(f.jsx)($,{tabs:["PROPERTIES"],children:Object(f.jsxs)("div",{className:"p-6",children:[Object(f.jsxs)("button",{className:"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left",type:"button",onClick:function(){e.selectSubtype()},disabled:e.editing,children:[Object(f.jsx)("p",{className:"font-bold",children:s?null===s||void 0===s?void 0:s.name:null===(a=n)||void 0===a?void 0:a.name}),Object(f.jsx)("p",{className:"text-sm mt-1 leading-4 text-circle-gray-500",children:s?null===s||void 0===s?void 0:s.description:null===(c=n)||void 0===c?void 0:c.description})]}),s?null===s||void 0===s?void 0:s.fields:(null===(r=n)||void 0===r?void 0:r.parameters)&&Object(f.jsx)(Y,{props:t,paramList:n.parameters})]})}),Object(f.jsx)("span",{className:"border-b border-circle-gray-300 mt-auto"}),Object(f.jsx)("button",{type:"submit",className:"text-white text-sm font-medium p-2 m-6 bg-circle-blue duration:50 transition-all rounded-md2",children:"Save Step"})]})}})]})},ee={Component:Q,Label:function(e){return Object(f.jsxs)("p",{children:[e.editing?"Edit":"New"," Step"]})},Icon:function(e){return Object(f.jsx)(I,{className:"w-6 h-8 py-2"})}},te=function(e){var t=e.item,n=e.index,a=e.values,c=u((function(e){return e.navigateTo})),r=Object.keys(t)[0],o=t[r];return Object(f.jsx)("button",{className:"flex-1 cursor-pointer text-left text-circle-black leading-6",type:"button",onClick:function(){c({component:ee,props:{editing:!0,values:{name:r,parameters:o},index:n},values:a})},children:r})},ne={Component:function(e){var t=b((function(e){return e.definitions}));return Object(f.jsxs)("div",{children:[Object(f.jsxs)("header",{children:[Object(f.jsx)(X,{}),Object(f.jsx)("h1",{className:"ml-6 text-2xl py-3 font-bold",children:"Step Type"})]}),Object(f.jsxs)($,{tabs:["BUILT-IN","COMMANDS","ORBS"],children:[Object(f.jsx)("div",{className:"p-6",children:Object.keys(G).map((function(t){return Object(f.jsxs)("button",{type:"button",className:"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left",onClick:function(){e.setSubtype(t)},children:[Object(f.jsx)("p",{className:"font-bold",children:G[t].name}),Object(f.jsx)("p",{className:"text-sm mt-1 leading-4 text-circle-gray-500",children:G[t].description})]},t)}))}),Object(f.jsx)("div",{className:"p-6",children:t.commands.map((function(t){return Object(f.jsxs)("button",{type:"button",className:"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left",onClick:function(){e.setSubtype(t)},children:[Object(f.jsx)("p",{className:"font-bold",children:t.name}),Object(f.jsx)("p",{className:"text-sm mt-1 leading-4 text-circle-gray-500",children:"Command description will show here"})]},t.name)}))}),Object(f.jsx)("div",{children:"User defined commands will show here"}),Object(f.jsx)("div",{children:"Predefined orb steps will show here"})]})]})},Label:function(){return Object(f.jsx)("p",{children:"New Step"})}},ae={Component:function(e){var t,n=Object(a.useState)({}),c=Object(l.a)(n,2),r=c[0],o=c[1],i=null===(t=r[e.nonce])||void 0===t?void 0:t.current,s=e.typePage.Component,d=e.menuPage;return Object(f.jsx)("div",{className:"h-full flex flex-col",children:i?Object(f.jsx)(d,Object(h.a)({subtype:i,selectSubtype:function(){o(Object(h.a)(Object(h.a)({},r),{},Object(T.a)({},e.nonce,{current:void 0,previous:i})))}},e.menuProps)):Object(f.jsx)(s,Object(h.a)(Object(h.a)({},e.typeProps),{},{setSubtype:function(t){o(Object(h.a)(Object(h.a)({},r),{},Object(T.a)({},e.nonce,{current:t,previous:i})))}}))})},Label:function(e){return e.typePage.Label(e)},Icon:function(e){return e.typePage.Icon?e.typePage.Icon(e):null}},ce=function(e,t){return{component:ae,props:Object(h.a)(Object(h.a)({},e),{},{nonce:Object(P.a)()}),values:t}},re=function(e){var t=u((function(e){return e.navigateTo}));return Object(f.jsx)("button",{type:"button",onClick:function(){t(ce({typePage:ne,menuPage:Q,passThrough:{dataType:de}},e.values))},className:"ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",children:"New"})},oe=function(e){return Object(f.jsxs)("div",{children:[Object(f.jsx)(W,{name:"name",label:"Name",required:!0,value:e.values.name}),Object(f.jsx)(W,{name:"description",label:"Description",as:"textarea"}),Object(f.jsx)(z,{label:"Steps",name:"steps",values:e.values,expanded:!0,required:!0,emptyText:"No steps defined yet. At least one step is required.",listItem:te,titleExpanded:Object(f.jsx)(re,{values:e.values,definitions:e.definitions})})]})},ie={string:{text:"String",description:"Sequence of characters that are optionally enlcosed by quotes.\n      Empty strings are treated as falsey while in evaluation of when clauses, and non-empty strings are treated as truthy.",fields:Object(f.jsx)(W,{name:"defaultValue",as:"textarea",label:"Default Value"})},boolean:{text:"Boolean",description:'A Boolean represents a true/false value. Such as "on" or "off".',fields:Object(f.jsxs)(W,{name:"defaultValue",as:"select",label:"Default Value",children:[Object(f.jsx)("option",{value:"undefined",children:"No default"}),Object(f.jsx)("option",{value:"false",children:"false"}),Object(f.jsx)("option",{value:"true",children:"true"})]})},integer:{text:"Integer",description:"Integers can be formatted using the familiar decimal notation.\n       Or have various formats such as having a leading \u201c0x\u201d to signal hexadecimal,\n        a leading \u201c0b\u201d to indicate binary bits (base 2), or have leading \u201c0\u201d to signal an octal base.\n        The use of \u201c:\u201d allows expressing integers in base 60, which is convenient for time/angle values.",fields:Object(f.jsx)(W,{name:"defaultValue",as:"number",label:"Default Value"})},enum:{text:"Enum",description:"Enums allow to define a list of any values,\n       which are useful in the case to enforce that the value must be one from a specific set of string values",fields:Object(f.jsx)("input",{type:"text"})},executor:{text:"Executor",fields:function(e){var t;return Object(f.jsx)(W,{label:"Executor",as:"select",name:"executor.name",required:!0,children:null===(t=e.executors)||void 0===t?void 0:t.map((function(e){return Object(f.jsx)("option",{value:e.name,children:e.name},e.name)}))})}},steps:{text:"Steps",fields:Object(f.jsx)("input",{type:"text"})},env_var_name:{text:"Environment Variable Name",fields:Object(f.jsx)("input",{type:"text"})}},se={pipeline:{types:["string","boolean","integer","enum"]},executor:{types:["string","boolean","integer","enum"]},job:{types:["string","boolean","integer","enum","executor","steps","env_var_name"]},command:{types:["string","boolean","integer","enum","steps","env_var_name"]}},le=["name"],de={type:"commands",name:{singular:"Command",plural:"Commands"},defaults:{name:"new-command",steps:[]},parameters:se.command,transform:function(e,t){var n=e.name,a=Object(N.a)(e,le);return M.parsers.parseCustomCommand(n,a,t.commands)},store:{get:function(e){return e.definitions.commands},add:function(e){return e.defineCommand},update:function(e){return e.updateCommand},remove:function(e){return e.undefineCommand}},components:{icon:I,summary:R,inspector:oe},docsInfo:{description:"A command defines a sequence of steps to be executed in a job.",link:"https://circleci.com/docs/2.0/reusing-config/#the-commands-key"}},ue=function(e){return Object(f.jsx)("svg",{viewBox:"0 0 96 96",className:e.className,children:Object(f.jsxs)("g",{id:"Layer_1","data-name":"Layer 1",children:[Object(f.jsx)("path",{d:"M85.93,30h-76a6,6,0,0,1-6-6V12a6,6,0,0,1,6-6h76a6,6,0,0,1,6,6V24A6,6,0,0,1,85.93,30Zm-76-20a2,2,0,0,0-2,2V24a2,2,0,0,0,2,2h76a2,2,0,0,0,2-2V12a2,2,0,0,0-2-2Z"}),Object(f.jsx)("path",{d:"M85.93,90h-76a6,6,0,0,1-6-6V72a6,6,0,0,1,6-6h76a6,6,0,0,1,6,6V84A6,6,0,0,1,85.93,90Zm-76-20a2,2,0,0,0-2,2V84a2,2,0,0,0,2,2h76a2,2,0,0,0,2-2V72a2,2,0,0,0-2-2Z"}),Object(f.jsx)("path",{d:"M85.93,60h-76a6,6,0,0,1-6-6V42a6,6,0,0,1,6-6h76a6,6,0,0,1,6,6V54A6,6,0,0,1,85.93,60Zm-76-20a2,2,0,0,0-2,2V54a2,2,0,0,0,2,2h76a2,2,0,0,0,2-2V42a2,2,0,0,0-2-2Z"}),Object(f.jsx)("circle",{cx:"19.93",cy:"18",r:"4"}),Object(f.jsx)("circle",{cx:"19.93",cy:"48",r:"4"}),Object(f.jsx)("circle",{cx:"19.93",cy:"78",r:"4"}),Object(f.jsx)("path",{d:"M77.93,20h-48a2,2,0,0,1,0-4h48a2,2,0,0,1,0,4Z"}),Object(f.jsx)("path",{d:"M77.93,50h-48a2,2,0,0,1,0-4h48a2,2,0,0,1,0,4Z"}),Object(f.jsx)("path",{d:"M77.93,80h-48a2,2,0,0,1,0-4h48a2,2,0,0,1,0,4Z"})]})})},be=function(e){return Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsx)(ue,{className:"ml-1 mr-2 w-5 h-5"})," ",e.data.name]})},me={docker:{text:"Docker",component:M.executors.DockerExecutor,resourceClasses:["small","medium","medium+","large","xlarge","2xlarge","2xlarge+"],fields:Object(f.jsx)(W,{label:"Image",name:"docker[0].image",required:!0}),docsLink:"https://circleci.com/docs/2.0/executor-types/#using-docker",description:"Steps run in container with provided image"},machine:{text:"Machine",component:M.executors.MachineExecutor,resourceClasses:["medium","large","xlarge","2xlarge"],fields:Object(f.jsx)(W,{label:"Image",name:"machine.image",required:!0}),docsLink:"https://circleci.com/docs/2.0/executor-types/#using-machine",description:"Steps run on Linux Virtual Machine"},macos:{text:"MacOS",component:M.executors.MacOSExecutor,resourceClasses:["medium","large"],fields:Object(f.jsx)(W,{label:"Xcode",name:"macos.xcode",required:!0}),docsLink:"https://circleci.com/docs/2.0/executor-types/#using-macos",description:"Steps run on macOS Virtual Machine with specific Xcode version"},windows:{text:"Windows",component:M.executors.WindowsExecutor,resourceClasses:["windows.medium","windows.large","windows.xlarge","windows.2xlarge"],fields:Object(f.jsx)(W,{label:"Image",name:"machine.image",required:!0}),docsLink:"https://circleci.com/docs/2.0/executor-types/#using-the-windows-executor",description:"Steps run on Windows Virtual Machine"}},je=function(e){var t,n,a;return e.subtype?Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(W,{label:"Name",name:"name",required:!0}),Object(f.jsx)(W,{label:"Description",name:"description",as:"textarea"}),Object(f.jsx)(W,{label:"Resource Class",name:"resource_class",required:!0,as:"select",children:null===(t=me[e.subtype])||void 0===t||null===(n=t.resourceClasses)||void 0===n?void 0:n.map((function(e){return Object(f.jsx)("option",{value:e,children:e},e)}))}),null===(a=me[e.subtype])||void 0===a?void 0:a.fields,Object(f.jsx)(W,{label:"Shell",name:"shell"}),Object(f.jsx)(W,{label:"Working Directory",name:"working_directory"})]}):Object(f.jsx)("p",{children:"Something went wrong!"})},fe=["truncate","description"],pe=function(e){var t=e.truncate,n=e.description,a=Object(N.a)(e,fe);return Object(f.jsx)("div",{className:"pb-4",children:Object(f.jsxs)("button",{type:"button",className:"p-4 w-full border-circle-gray-300 border rounded text-left hover:border-circle-gray-700 max-h-36",onClick:a.onClick,children:[Object(f.jsxs)("div",{className:"flex flex-row",children:[a.icon,Object(f.jsx)("p",{className:"font-bold",children:a.title}),Object(f.jsx)("div",{className:"ml-auto z-10",children:a.pinned})]}),n&&Object(f.jsx)("p",{className:"text-sm mt-1 leading-4 text-circle-gray-500 overflow-ellipsis max-h-32 overflow-hidden",children:t&&n.length>t?(null===n||void 0===n?void 0:n.slice(0,t))+"...":n})]})})},xe={Component:function(e){return Object(f.jsxs)("div",{children:[Object(f.jsxs)("header",{children:[Object(f.jsx)(X,{}),Object(f.jsxs)("div",{className:"ml-6 flex py-3",children:[Object(f.jsx)(ue,{className:"w-8 h-8 p-1 pl-0 mr-1"}),Object(f.jsx)("h1",{className:"text-2xl font-bold",children:"New Executor"})]}),Object(f.jsx)("div",{className:"flex border-b border-circle-gray-300 pl-6",children:Object(f.jsx)("div",{className:"text-sm tracking-wide px-3 py-3 font-bold text-center 'border-black border-b-4 border-black text-circle-black",children:"TYPE"})})]}),Object(f.jsx)("div",{className:"p-6",children:Object.keys(me).map((function(t){return Object(f.jsx)(pe,{description:me[t].description,title:me[t].text,onClick:function(){e.setSubtype(t)},pinned:Object(f.jsx)("div",{children:me[t].docsLink&&Object(f.jsx)("a",{className:"ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",href:me[t].docsLink,target:"circleci_docs",onClick:function(e){e.stopPropagation()},children:"Learn More"})})},t)}))})]})},Label:function(e){return Object(f.jsx)("p",{children:"New Executor"})},Icon:function(e){return Object(f.jsx)(ue,{className:"w-6 h-8 py-2"})}},ve=function(e){return Object(f.jsx)("svg",{viewBox:"0 0 24 24",className:e.className,children:Object(f.jsx)("path",{d:"M12.458388,3 C17.7284428,3 22,7.25487688 22,12.5009275 C22,17.7469783 17.7286827,22 12.458388,22 C9.24779218,22 6.40748266,20.4195905 4.67890641,17.9975161 L4.51046025,18 C5.52650577,18 6.4784703,17.7267799 7.29630887,17.2500927 C8.5797622,18.6332003 10.4175246,19.5 12.4581919,19.5 C16.3422622,19.5 19.4895397,16.3667214 19.4895397,12.5010252 C19.4895397,8.63532901 16.3417423,5.5 12.4581919,5.5 C10.4182181,5.5 8.58077831,6.36686635 7.29682565,7.75083018 C6.52574446,7.30040157 5.63375878,7.03136434 4.68109466,7.00257493 C6.40892952,4.58026814 9.24869152,3 12.458388,3 Z M12.4596333,9.00000001 C14.4011972,9.00000001 15.9748954,10.5675188 15.9748954,12.5003076 C15.9748954,14.4330964 14.4012513,16 12.4596333,16 C11.2973265,16 10.266758,15.437833 9.62706371,14.5716975 C9.88962048,13.931837 10.0334728,13.2326478 10.0334728,12.5 C10.0334728,11.767055 9.88950371,11.0675956 9.62819064,10.4281361 C10.2669454,9.56228031 11.2974499,9.00000001 12.4596333,9.00000001 Z M4.50987191,10 C5.89718507,10 7.0209205,11.1200937 7.0209205,12.5002929 C7.0209205,13.8804921 5.89718507,15 4.50987191,15 C3.12373543,15 2,13.8804921 2,12.5002929 C2,11.1200937 3.12373543,10 4.50987191,10 Z"})})},he=function(e){return Object(f.jsx)("svg",{role:"img",focusable:"false",viewBox:"0 0 24 24","aria-label":"Status On Hold",fill:"#8e62bd",className:e.className,children:Object(f.jsx)("path",{fillRule:"evenodd",d:"M12,2 C6.48,2 2,6.48 2,12 C2,17.52 6.48,22 12,22 C17.52,22 22,17.52 22,12 C22,6.48 17.52,2 12,2 Z M11,16 L9,16 L9,8 L11,8 L11,16 Z M15,16 L13,16 L13,8 L15,8 L15,16 Z"})})},Oe=function(e){return Object(f.jsx)("svg",{viewBox:"0 0 24 24",className:e.className,children:e.filled?Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22ZM16 13C16.5523 13 17 12.5523 17 12C17 11.4477 16.5523 11 16 11H7.99997C7.44769 11 6.99997 11.4477 6.99997 12C6.99997 12.5523 7.44769 13 7.99997 13H16Z",fill:e.color}):Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.02942 12C4.02942 7.58172 7.61114 4 12.0294 4C16.4477 4 20.0294 7.58172 20.0294 12C20.0294 16.4183 16.4477 20 12.0294 20C7.61114 20 4.02942 16.4183 4.02942 12ZM12.0294 2C6.50657 2 2.02942 6.47715 2.02942 12C2.02942 17.5228 6.50657 22 12.0294 22C17.5523 22 22.0294 17.5228 22.0294 12C22.0294 6.47715 17.5523 2 12.0294 2ZM16.022 13.0294C16.5743 13.0335 17.0253 12.589 17.0294 12.0368C17.0334 11.4845 16.589 11.0335 16.0367 11.0294L8.03675 10.9706C7.48448 10.9665 7.03348 11.4109 7.02942 11.9632C7.02535 12.5155 7.46976 12.9665 8.02203 12.9705L16.022 13.0294Z",fill:e.color})})},ge=function(e){return Object(f.jsx)("svg",{viewBox:"0 0 ".concat(e.filled?"20 20":"16 16"),className:e.className,children:e.filled?Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 9V6C11 5.44772 10.5523 5 10 5C9.44771 5 9 5.44772 9 6V9H6C5.44772 9 5 9.44771 5 10C5 10.5523 5.44772 11 6 11H9V14C9 14.5523 9.44771 15 10 15C10.5523 15 11 14.5523 11 14V11H14C14.5523 11 15 10.5523 15 10C15 9.44771 14.5523 9 14 9H11ZM10 0C15.52 0 20 4.48 20 10C20 15.52 15.52 20 10 20C4.48 20 0 15.52 0 10C0 4.48 4.48 0 10 0Z",fill:e.color}):Object(f.jsxs)("g",{children:[Object(f.jsx)("mask",{id:"mask0_266_8047",maskUnits:"userSpaceOnUse",x:"0",y:"0",width:"16",height:"16",children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.66764 7.33357V5.33357C8.66764 4.96538 8.36916 4.66691 8.00097 4.66691C7.63278 4.66691 7.33431 4.96538 7.33431 5.33357V7.33357H5.33431C4.96612 7.33357 4.66764 7.63205 4.66764 8.00024C4.66764 8.36843 4.96612 8.66691 5.33431 8.66691H7.33431V10.6669C7.33431 11.0351 7.63278 11.3336 8.00097 11.3336C8.36916 11.3336 8.66764 11.0351 8.66764 10.6669V8.66691H10.6676C11.0358 8.66691 11.3343 8.36843 11.3343 8.00024C11.3343 7.63205 11.0358 7.33357 10.6676 7.33357H8.66764ZM8.00065 1.8335C4.59679 1.8335 1.83398 4.59631 1.83398 8.00016C1.83398 11.404 4.59679 14.1668 8.00065 14.1668C11.4045 14.1668 14.1673 11.404 14.1673 8.00016C14.1673 4.59631 11.4045 1.8335 8.00065 1.8335ZM0.833984 8.00016C0.833984 4.04402 4.04451 0.833496 8.00065 0.833496C11.9568 0.833496 15.1673 4.04402 15.1673 8.00016C15.1673 11.9563 11.9568 15.1668 8.00065 15.1668C4.04451 15.1668 0.833984 11.9563 0.833984 8.00016Z",fill:"white"})}),Object(f.jsx)("g",{mask:"url(#mask0_266_8047)",children:Object(f.jsx)("rect",{width:"16",height:"16",fill:e.color})})]})})},we={Component:function(e){var t=e.job,n=u((function(e){return e.navigateBack}));return Object(f.jsxs)("div",{className:"h-full flex flex-col",children:[Object(f.jsxs)("header",{children:[Object(f.jsx)(X,{}),Object(f.jsx)("h1",{className:"ml-6 text-2xl py-2 font-bold",children:"Edit Staged Job"})]}),Object(f.jsx)(_.d,{initialValues:{name:t.name,parameters:Object(h.a)({name:void 0},t.parameters)},enableReinitialize:!0,onSubmit:function(e){t.parameters=e.parameters,n({distance:1})},children:function(e){return Object(f.jsxs)(_.c,{className:"flex flex-col flex-1",children:[Object(f.jsx)($,{tabs:["PROPERTIES"],children:Object(f.jsxs)("div",{className:"p-6",children:[Object(f.jsx)(W,{type:"button",name:"name",label:"Source Job",children:Object(f.jsxs)("button",{className:"w-full mb-2 p-2 text-sm cursor-pointer text-left text-circle-black  bg-white border border-circle-gray-300 rounded-md2 flex flex-row",children:[Object(f.jsx)(ve,{className:"ml-1 mr-2 w-5 h-5"}),Object(f.jsx)("p",{className:"leading-5",children:t.name})]})}),Object(f.jsx)(W,{name:"parameters.name",label:"Name",placeholder:t.name}),(t.job instanceof M.reusable.ParameterizedJob||t.job instanceof M.orb.OrbRef)&&Object(f.jsx)(Y,{parent:"parameters",paramList:t.job.parameters})]})}),Object(f.jsx)("span",{className:"border-b border-circle-gray-300 mt-auto"}),Object(f.jsx)("button",{type:"submit",className:"text-white text-sm font-medium p-2 m-6 bg-circle-blue duration:50 transition-all rounded-md2",children:"Save Staged Job"})]})}})]})},Label:function(e){var t;return Object(f.jsx)("p",{children:(null===(t=e.job.parameters)||void 0===t?void 0:t.name)||e.job.name})},Icon:function(e){return Object(f.jsx)(ve,{className:"w-6 h-8 py-2"})}},ye=function(e){return Object(f.jsx)(f.Fragment,{children:e.subtraction?Object(f.jsx)(Oe,{filled:e.filled,color:"rgb(150, 0, 8)",className:"bg-white rounded-full w-full border border-white"}):Object(f.jsx)(ge,{filled:e.filled,color:"rgb(0, 120, 202)",className:"bg-white rounded-full w-full border border-white"})})},Ne=function(e){var t,n,r,o=b((function(e){return e.workflows[e.selectedWorkflow].elements})),i=b((function(e){return e.dragging})),s=u((function(e){return e.updateJob})),d=u((function(e){return e.navigateTo})),m=u((function(e){return e.setConnecting})),j=b((function(e){return e.previewToolbox})),p=b((function(e){return e.altAction})),x=u((function(e){return e.removeWorkflowElement})),v=b((function(e){return e.connecting})),O=u((function(e){return e.updateConnecting})),g=c.a.useState({handles:!1,node:!1,requiredBy:!1,remove:!1,requires:!1}),w=Object(l.a)(g,2),y=w[0],N=w[1],C=!1,k=null===(t=e.data.parameters)||void 0===t?void 0:t.filters;if(k&&j.filter.preview&&k[j.filter.type]){var E,S,L=k[j.filter.type],M=j.filter.pattern,P=null===L||void 0===L||null===(E=L.ignore)||void 0===E?void 0:E.includes(M),I=null===L||void 0===L||null===(S=L.only)||void 0===S?void 0:S.includes(M);C=P||!I}var R=function(e,t,n,a){return{onMouseEnter:function(){N(e.reduce((function(e,t){return Object(h.a)(Object(h.a)({},e),{},Object(T.a)({},t,!0))}),y)),n&&n()},onMouseLeave:function(){N(t.reduce((function(e,t){return Object(h.a)(Object(h.a)({},e),{},Object(T.a)({},t,!1))}),y)),a&&a()}}},_=Object(a.useRef)(null),V=function(t){return function(n){var a;m({ref:_,id:{connectionNodeId:e.id,connectionHandleType:t,connectionHandleId:"".concat(e.id,"_").concat(t)},name:(null===(a=e.data.parameters)||void 0===a?void 0:a.name)||e.data.name}),n.preventDefault()}};return Object(f.jsxs)("div",Object(h.a)(Object(h.a)({className:"p-8 flex flex-row cursor-default"},R(["handles"],["handles","node","requires","requiredBy"],(function(){var t,n,a="source"===(null===v||void 0===v||null===(t=v.start)||void 0===t?void 0:t.id.connectionHandleType)?"target":"source";O({ref:_,id:{connectionNodeId:e.id,connectionHandleType:a,connectionHandleId:"".concat(e.id,"_").concat(a)},name:(null===(n=e.data.parameters)||void 0===n?void 0:n.name)||e.data.name})}),(function(){O(void 0)}))),{},{onDragOver:function(e){var t;i&&(null===(t=i.dataType)||void 0===t?void 0:t.dragTarget)===Te.type&&e.preventDefault()},onDrop:function(t){var n;if(i&&(null===(n=i.dataType)||void 0===n?void 0:n.dragTarget)===Te.type&&i.dataType.applyToNode){var a=i.dataType.applyToNode(i.data,e.data);Te.type in a&&s({old:e.data.job,new:a.job}),"parameters"in a&&function(e,t){o.map((function(n){return Object(A.h)(n)&&n.data.job.name===e.job.name?Object(h.a)(Object(h.a)({},n),{},{data:Object(h.a)(Object(h.a)({},e),t)}):n}))}(e.data,a)}},children:[Object(f.jsx)("button",Object(h.a)(Object(h.a)({className:"opacity-".concat(!y.handles||y.node||null!==v&&void 0!==v&&v.start?0:100," transition-opacity duration-300 w-4 h-4 my-auto mr-5"),id:"".concat(e.id,"_source")},R(["requires","handles"],["requires"])),{},{draggable:!0,onDragStart:V("target"),children:Object(f.jsx)(ye,{filled:y.requires,subtraction:p})})),Object(f.jsxs)("div",Object(h.a)(Object(h.a)({className:"p-2 bg-white node flex flex-row text-black rounded-md border cursor-pointer ".concat(C?"bg-gray-200 opacity-60":"opacity-100","\n        ").concat(y.node&&!y.remove||y.handles&&null!==v&&void 0!==v&&v.start?"border-circle-blue":"border-circle-gray-300"),ref:_},R(["node"],["node"])),{},{children:[Object(f.jsxs)("button",{className:"flex w-full",onClick:function(){d({component:we,props:{job:e.data},origin:!0})},children:[function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="w-5 mr-2";return e?Object(f.jsx)(he,{className:t}):Object(f.jsx)(ve,{className:t})}("approval"===(null===(n=e.data.parameters)||void 0===n?void 0:n.type)),(null===(r=e.data.parameters)||void 0===r?void 0:r.name)||e.data.name]}),Object(f.jsx)("button",Object(h.a)(Object(h.a)({className:"my-auto\n          opacity-".concat(y.node?100:0,"\n          transition-opacity duration-150 w-8 h-full flex")},R(["remove"],["remove"])),{},{onClick:function(){x(e.id)},children:Object(f.jsx)(H,{className:"w-3 cursor-pointer m-auto",color:y.remove?"red":"#AAAAAA"})}))]})),Object(f.jsx)("button",Object(h.a)(Object(h.a)({className:"opacity-".concat(!y.handles||y.node||null!==v&&void 0!==v&&v.start?0:100," source transition-opacity duration-300 w-4 h-4 my-auto ml-5")},R(["requiredBy","handles"],["requiredBy"])),{},{id:"".concat(e.id,"_target"),draggable:!0,onDragStart:V("source"),children:Object(f.jsx)(ye,{filled:y.requiredBy,subtraction:p})})),Object(f.jsx)(A.d,{type:"source",className:"opacity-0 cursor-default",position:A.e.Right,id:"".concat(e.id,"_source")}),Object(f.jsx)(A.d,{className:"opacity-0 cursor-default",id:"".concat(e.id,"_target"),type:"target",position:A.e.Left})]}))},Ce=["embeddedExecutor","definitions","data","values"],ke=["data","definitions"],Ee=function(e){var t=e.embeddedExecutor,n=(e.definitions,e.data),a=(e.values,Object(N.a)(e,Ce)),c=u((function(e){return e.defineExecutor})),r=Object(_.e)(Object(h.a)({name:t},a))[2],o=Object(_.e)(Object(h.a)({name:"executor.name"},a))[2];return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsx)("p",{className:"font-bold leading-5 tracking-wide",children:"Executor"}),Object(f.jsx)("button",{type:"button",className:"ml-auto tracking-wide leading-6 text-sm text-circle-blue font-medium  ",onClick:function(){if(n.executor instanceof M.executors.Executor){var e=n.name+"-exec-export";r.setValue(void 0),c(n.executor.asReusable(e)),o.setValue(e)}},children:"Export as Definition"})]}),Object(f.jsxs)("div",{className:"px-3 py-2 my-2 bg-circle-gray-200 border w-full border-circle-gray-300 rounded flex flex-row",children:["Embedded ",t,Object(f.jsx)("button",{onClick:function(){r.setValue(void 0),o.setValue("Select Executor")},type:"button",className:"my-auto ml-auto",children:Object(f.jsx)(H,{className:"w-3 h-3",color:"#AAAAAA"})})]})]})},Se=["name"],Te={type:"jobs",name:{singular:"Job",plural:"Jobs"},defaults:{name:"New Job",steps:[],executor:{name:"Select Executor"}},parameters:se.job,transform:function(e,t){var n=e.name,a=Object(N.a)(e,Se);return M.parsers.parseJob(n,a,t.commands,t.executors)},store:{get:function(e){return e.definitions.jobs},add:function(e){return e.defineJob},update:function(e){return e.updateJob},remove:function(e){return e.undefineJob}},dragTarget:"workflow",node:{transform:function(e,t){return new M.workflow.WorkflowJob(e,t)},component:Ne},components:{icon:ve,summary:function(e){var t=b((function(e){return e.stagedJobs})),n=b((function(e){return e.workflows}))[b((function(e){return e.selectedWorkflow}))].name,a=t.workflows[n];return Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsx)(ve,{className:"ml-1 mr-2 w-5 h-5"}),Object(f.jsx)("p",{className:"leading-5",children:e.data.name}),a&&Object(f.jsx)(g,{className:"w-5 h-5 ml-auto",color:e.data.name in a?"#048C43":"#E3E3E3"})]})},inspector:function(e){var t=e.data,n=e.definitions,a=Object(N.a)(e,ke),c=u((function(e){return e.navigateTo})),r=function(e){var t=["machine","macos","docker"];return Object.keys(e).find((function(e){return t.includes(e)}))}(a.values);return Object(f.jsxs)("div",{children:[Object(f.jsx)(W,{label:"Name",name:"name",required:!0}),r?Object(f.jsx)(Ee,Object(h.a)({embeddedExecutor:r,definitions:n,data:t},a)):Object(f.jsx)(f.Fragment,{children:Object(f.jsx)(W,{label:"Executor",as:"select",name:"executor.name",className:"w-full",required:!0,dependent:function(e){var t=n.executors.find((function(t){return t.name===e}));return Object(f.jsx)(f.Fragment,{children:(null===t||void 0===t?void 0:t.parameters)&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)(D,{title:"Properties",expanded:!0,children:Object(f.jsx)("div",{className:"pt-2",children:Object(f.jsx)(Y,{paramList:t.parameters,parent:"executor"})})}),Object(f.jsx)("div",{className:"w-full border-b border-circle-gray-300 my-2"})]})})},children:[{name:"Select Executor"}].concat(Object(L.a)(n.executors)).map((function(e){return Object(f.jsx)("option",{value:e.name,children:e.name},e.name)}))})}),Object(f.jsx)(z,{label:"Steps",name:"steps",values:a.values,expanded:!0,required:!0,listItem:te,emptyText:"No steps defined yet.",titleExpanded:Object(f.jsx)("button",{type:"button",onClick:function(){c(ce({typePage:ne,menuPage:Q,passThrough:{dataType:Te}},a.values))},className:"ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",children:"New"})})]})}},docsInfo:{description:"Collection of steps to be executed within the Executor environment.",link:"https://circleci.com/docs/2.0/concepts/#jobs"}},Le=["name"],Me={type:"executors",name:{singular:"Executor",plural:"Executors"},defaults:{docker:{name:"new-docker-executor",docker:[{image:"cimg/base:stable"}],resource_class:"medium"},machine:{name:"new-machine-executor",machine:{image:"ubuntu-2004:202111-01",parameters:{}},resource_class:"medium"},macos:{name:"new-macos-executor",macos:{xcode:"13.2.0",parameters:{}},resource_class:"medium"},windows:{name:"new-windows-executor",machine:{image:"windows-server-2019-vs2019:stable",parameters:{}},resource_class:"windows.medium"}},parameters:se.executor,transform:function(e){var t=e.name,n=Object(N.a)(e,Le);return M.parsers.parseReusableExecutor(t,n)},store:{get:function(e){return e.definitions.executors},add:function(e){return e.defineExecutor},update:function(e){return e.updateExecutor},remove:function(e){return e.undefineExecutor}},dragTarget:Te.type,applyToNode:function(e,t){var n=t.job,a=t.parameters,c=Object(h.a)({},a);if(!(n instanceof M.Job)){var r=n.parameters.parameters.filter((function(e){return"executor"===e.type}));0===r.length||1===r.length&&(c[r[0].name]=e.name)}return new M.workflow.WorkflowJob(n,c)},subtypes:{component:xe,getSubtype:function(e){var t=Object.keys(e);return Object.keys(me).find((function(e){return t.includes(e)}))},definitions:me},components:{icon:ue,summary:be,inspector:je},docsInfo:{description:"Technology/Environment which Jobs execute their steps inside of.",link:"https://circleci.com/docs/2.0/executor-types/"}},Ae=function(e){return Object(f.jsx)("svg",{viewBox:"0 0 18 18",className:e.className,children:Object(f.jsx)("path",{fillRule:"evenodd",d:"M4.649 3.084A1 1 0 015.163 4.4 13.95 13.95 0 004 10c0 1.993.416 3.886 1.164 5.6a1 1 0 01-1.832.8A15.95 15.95 0 012 10c0-2.274.475-4.44 1.332-6.4a1 1 0 011.317-.516zM12.96 7a3 3 0 00-2.342 1.126l-.328.41-.111-.279A2 2 0 008.323 7H8a1 1 0 000 2h.323l.532 1.33-1.035 1.295a1 1 0 01-.781.375H7a1 1 0 100 2h.039a3 3 0 002.342-1.126l.328-.41.111.279A2 2 0 0011.677 14H12a1 1 0 100-2h-.323l-.532-1.33 1.035-1.295A1 1 0 0112.961 9H13a1 1 0 100-2h-.039zm1.874-2.6a1 1 0 011.833-.8A15.95 15.95 0 0118 10c0 2.274-.475 4.44-1.332 6.4a1 1 0 11-1.832-.8A13.949 13.949 0 0016 10c0-1.993-.416-3.886-1.165-5.6z",clipRule:"evenodd"})})},Pe=["name"],Ie={type:"parameters",name:{singular:"Parameter",plural:"Parameters"},defaults:{integer:{name:"new_integer_parameter"},boolean:{name:"new_boolean_parameter"},string:{name:"new_string_parameter"},enum:{name:"new_enum_parameter"}},transform:function(e){var t=e.name,n=Object(N.a)(e,Pe);return M.parsers.parseParameter(n,t)},store:{get:function(e){return e.definitions.parameters},add:function(e){return e.defineParameter},update:function(e){return e.updateParameter},remove:function(e){return e.undefineParameter}},subtypes:{component:{Component:function(e){var t,n=(null===(t=e.component)||void 0===t?void 0:t.parameters)||se.pipeline;return Object(f.jsxs)("div",{children:[Object(f.jsxs)("header",{children:[Object(f.jsx)(X,{}),Object(f.jsxs)("div",{className:"ml-6 flex py-3",children:[Object(f.jsx)(Ae,{className:"w-8 h-8 p-1 pl-0 mr-1"}),Object(f.jsx)("h1",{className:"text-2xl font-bold",children:"New Parameter"})]}),Object(f.jsx)("div",{className:"flex border-b border-circle-gray-300 pl-6",children:Object(f.jsx)("div",{className:"text-sm tracking-wide px-3 py-3 font-bold text-center 'border-black border-b-4 border-black text-circle-black",children:"TYPE"})})]}),Object(f.jsx)("div",{className:"p-6",children:(null===n||void 0===n?void 0:n.types)&&n.types.map((function(t){var n,a;return Object(f.jsxs)("button",{type:"button",className:"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left",onClick:function(){e.setSubtype(t)},children:[Object(f.jsx)("p",{className:"font-bold",children:null===(n=ie[t])||void 0===n?void 0:n.text}),Object(f.jsx)("p",{className:"text-sm mt-1 leading-4 text-circle-gray-500",children:null===(a=ie[t])||void 0===a?void 0:a.description})]},t)}))})]})},Label:function(e){return Object(f.jsx)("p",{children:"New Parameter"})},Icon:function(e){return Object(f.jsx)(Ae,{className:"w-6 h-8 py-2"})}},getSubtype:function(e){return e.type},definitions:ie},components:{icon:Ae,summary:function(e){return Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsx)(Ae,{className:"ml-1 mr-2 w-5 h-5"})," ",e.data.name]})},inspector:function(e){var t;return Object(f.jsxs)("div",{children:[Object(f.jsx)(W,{name:"type",label:"Type",hidden:!0,value:e.subtype}),Object(f.jsx)(W,{name:"name",label:"Name",required:!0}),Object(f.jsx)(W,{name:"description",label:"Description"}),e.subtype&&(null===(t=ie[e.subtype])||void 0===t?void 0:t.fields)]})}},docsInfo:{description:"Options to help describe and expand functionality of a job, command, or executor.",link:"https://circleci.com/docs/2.0/reusing-config/#using-the-parameters-declaration"}},Re=[{type:"executors",component:[M.executors.DockerExecutor,M.executors.MacOSExecutor,M.executors.MachineExecutor,M.executors.WindowsExecutor],mapping:Me},{type:"jobs",component:[M.Job],mapping:Te},{type:"commands",component:[M.reusable.CustomCommand],mapping:de},{type:"parameters",component:[M.parameters.CustomParameter],mapping:Ie}],_e=function(e,t,n){return{x:e?(t.x+t.width-n[0])/n[2]:(t.x-n[0])/n[2],y:(t.y+t.height/2-60-n[1])/n[2]}},Ve=function(e){var t,n,a,c,r=e.targetX,o=e.targetY,i=b((function(e){return e.connecting})),s=b((function(e){return e.altAction})),l=Object(A.j)((function(e){return e.transform})),d=null===i||void 0===i||null===(t=i.start)||void 0===t||null===(n=t.ref)||void 0===n?void 0:n.current,u="source"===(null===i||void 0===i||null===(a=i.start)||void 0===a?void 0:a.id.connectionHandleType);if(!d)return null;var m=d.getBoundingClientRect(),j=_e(u,m,l),p={x:r,y:o},x=30*(u?1:-1),v=u?p.x<j.x:p.y>j.x,h="#76CDFF";if(!v&&null!==i&&void 0!==i&&null!==(c=i.end)&&void 0!==c&&c.ref){var O,g,w=null===i||void 0===i||null===(O=i.end.ref)||void 0===O?void 0:O.current;if(w&&(null===i||void 0===i||null===(g=i.end)||void 0===g?void 0:g.ref.current)!==d){var y=w.getBoundingClientRect();p=_e(!u,y,l),h="#0078CA"}}return h=v||s?"#F24646":h,Object(f.jsxs)("g",{children:[Object(f.jsx)("path",{fill:"none",stroke:h,strokeWidth:1.5,className:"animated",d:"M".concat(j.x,",").concat(j.y," ").concat(j.x+x,",").concat(j.y," ").concat(j.x+x,",").concat(j.y," ").concat(p.x-x,",").concat(p.y," ").concat(p.x-x,",").concat(p.y," ").concat(p.x,",").concat(p.y)}),Object(f.jsx)("circle",{cx:p.x,cy:p.y,fill:"#fff",r:3,stroke:h,strokeWidth:1.5}),Object(f.jsx)("circle",{cx:j.x-2,cy:j.y,fill:"#fff",r:3,stroke:h,strokeWidth:1.5})]})};function qe(e){var t=e.id,n=e.sourceX,a=e.sourceY,c=e.targetX,r=e.targetY,o=(e.sourcePosition,e.targetPosition,e.style),i=void 0===o?{}:o,s=(e.data,e.arrowHeadType,e.markerEndId,45);return Object(f.jsx)("g",{children:Object(f.jsx)("path",{id:t,style:i,className:"react-flow__edge-path",d:"M".concat(n-90,",").concat(a," ").concat(n-s,",").concat(a," ").concat(n-s,",").concat(a," ").concat(c+s,",").concat(r," ").concat(c+s,",").concat(r," ").concat(c+90,",").concat(r)})})}function We(){var e=b((function(e){return e.previewToolbox})),t=u((function(e){return e.updatePreviewToolBox})),n=function(n,a){t(Object(h.a)(Object(h.a)({},e),{},{filter:Object(h.a)(Object(h.a)({},e.filter),{},Object(T.a)({},n,a))}))};return Object(f.jsx)("div",{className:"absolute z-10 bg-white rounded m-2 p-4 shadow border border-circle-gray-300",children:Object(f.jsx)(D,{title:"Preview Toolbox",children:Object(f.jsx)("div",{className:"px-1 py-3",children:Object(f.jsx)("div",{className:"border-l border-circle-gray-300 px-3 py-1",children:Object(f.jsx)(D,{title:"Staged Job Filters",onChange:function(n){t(Object(h.a)(Object(h.a)({},e),{},{filter:Object(h.a)(Object(h.a)({},e.filter),{},{preview:n})}))},children:Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsxs)(S,{value:e.filter.type,onChange:function(e){return n("type",e)},className:"mt-2",children:[Object(f.jsx)("option",{value:"branches",children:"Branch"}),Object(f.jsx)("option",{value:"tags",children:"Tag"})]}),Object(f.jsx)("input",{className:"bg-white rounded p-2 ml-2 mt-2 shadow-sm border border-circle-gray-300",placeholder:"^.*$",value:e.filter.pattern,onChange:function(e){n("pattern",e.target.value)}})]})})})})})})}var Be=function(e){var t=u((function(e){return e.importOrb})),n=Object(a.useState)({x:0,y:0,zoom:1}),c=Object(l.a)(n,2),r=c[0],o=c[1],i=Object(a.useState)(!1),s=Object(l.a)(i,2),d=s[0],m=s[1],j=b((function(e){return e.workflows[e.selectedWorkflow].elements})),p=u((function(e){return e.addWorkflowElement})),x=b((function(e){return e.dragging})),v=b((function(e){return e.connecting})),O=u((function(e){return e.setWorkflowElements})),g=u((function(e){return e.setConnecting})),w=b((function(e){return e.altAction})),y=u((function(e){return e.setAltAction})),N=Object(a.useState)({x:0,y:0}),C=Object(l.a)(N,2),k=C[0],E=C[1];window.addEventListener("keydown",(function(e){e.shiftKey&&!d&&(y(!w),m(!0),setTimeout((function(){m(!1)}),5))}));var S=function(e,t){return j.map((function(n){var a,c;return Object(A.h)(n)&&null!==(a=Te.node)&&void 0!==a&&a.transform&&((null===(c=n.data.parameters)||void 0===c?void 0:c.name)||n.data.job.name)===e?Object(h.a)(Object(h.a)({},n),{},{data:Te.node.transform(n.data.job,t(n.data.parameters))}):n}))},I=function(){var e;if(null!==v&&void 0!==v&&null!==(e=v.start)&&void 0!==e&&e.name){var t="source"===v.start.id.connectionHandleType?v.start:v.end,n="source"===v.start.id.connectionHandleType?v.end:v.start,a=null===t||void 0===t?void 0:t.name;if(null!==n&&void 0!==n&&n.name&&a)if("creating"===v.intent&&t.id.connectionNodeId!==n.id.connectionNodeId)O(Object(A.f)({source:t.id.connectionNodeId,target:n.id.connectionNodeId,type:"requires",sourceHandle:t.id.connectionHandleId,targetHandle:n.id.connectionNodeId,animated:!1,style:{stroke:"#A3A3A3",strokeWidth:"2px"}},S(n.name,(function(e){return Object(h.a)(Object(h.a)({},e),{},{requires:null!==e&&void 0!==e&&e.requires?[].concat(Object(L.a)(e.requires),[a]):[a]})}))));else{var c=S(n.name,(function(e){var t=void 0;if(e.requires){var n,c=null===e||void 0===e||null===(n=e.requires)||void 0===n?void 0:n.filter((function(e){return e!==a}));t=c.length>0?c:void 0}return Object(h.a)(Object(h.a)({},e),{},{requires:t})})).filter((function(e){if("requires"!==e.type)return!0;var a=e;return a.source!==t.id.connectionNodeId||a.target!==n.id.connectionNodeId}));O(c)}g({id:{connectionNodeId:null,connectionHandleType:null,connectionHandleId:null}})}};Object(a.useEffect)((function(){return window.addEventListener("mouseup",I),function(){window.removeEventListener("mouseup",I)}}));var R=function(){var e=Object(A.i)((function(e){return e.setConnectionNodeId})),t=Object(A.i)((function(e){return e.setConnectionPosition}));return Object(a.useEffect)((function(){var n;e(null===v||void 0===v||null===(n=v.start)||void 0===n?void 0:n.id),t({x:k.x-r.x,y:k.y-r.y})})),null};return Object(f.jsxs)("div",{className:"w-full h-full",onDragOver:function(e){var t;"workflow"===(null===x||void 0===x||null===(t=x.dataType)||void 0===t?void 0:t.dragTarget)&&e.preventDefault()},onDrag:function(e){},onMouseMove:function(e){var t,n=null===(t=e.target.closest(".react-flow"))||void 0===t?void 0:t.getBoundingClientRect();n&&E({x:e.clientX+r.x-n.left,y:e.clientY+r.y-n.top})},onDrop:function(e){var n,a,c=null===x||void 0===x||null===(n=x.dataType)||void 0===n?void 0:n.node;if("workflow"===(null===x||void 0===x||null===(a=x.dataType)||void 0===a?void 0:a.dragTarget)&&c){var o={x:e.clientX-15-r.x,y:e.clientY-45-r.y},i=function(e){return 15*Math.floor(e/r.zoom/15)},s=x.data;c.transform&&(s=c.transform(s)),s.job instanceof M.orb.OrbRef&&t(s.job.orb);var l={id:Object(P.a)(),data:s,connectable:!0,dragHandle:".node",type:x.dataType.type,position:{x:i(o.x),y:i(o.y)}};p(l)}},children:[Object(f.jsx)(We,{}),Object(f.jsxs)(A.g,{elements:j,className:e.className,onMove:function(e){o(e||r)},selectNodesOnDrag:!1,nodeTypes:Object.assign.apply(Object,[{}].concat(Object(L.a)(Re.map((function(e){return e.mapping.node?Object(T.a)({},e.mapping.type,e.mapping.node.component):null}))))),edgeTypes:{requires:qe},snapToGrid:!0,connectionMode:A.c.Loose,connectionLineComponent:Ve,children:[Object(f.jsx)(R,{}),Object(f.jsx)(A.a,{variant:A.b.Dots,gap:15,color:"#A3A3A3",className:e.bgClassName,size:1})]})]})},He=function(){var e=b((function(e){return e.workflows})),t=b((function(e){return e.selectedWorkflow})),n=u((function(e){return e.selectWorkflow})),a=u((function(e){return e.addWorkflow}));return Object(f.jsxs)("div",{className:"flex flex-col flex-nowrap flex-1",children:[Object(f.jsxs)("div",{className:"flex w-full bg-white h-16",children:[Object(f.jsx)("div",{className:"flex-col my-auto pl-4 pr-2 pt-1",children:Object(f.jsx)(S,{placeholder:"No workflows",className:"w-60",value:t,dropdownClassName:"w-60 rounded",onChange:function(e){return n(e)},icon:Object(f.jsx)(g,{className:"ml-2 w-6"}),children:e.map((function(e,t){return Object(f.jsx)("option",{value:t,children:e.name},e.id)}))})}),Object(f.jsx)(y,{className:"flex my-auto",onClick:function(){a("new-workflow")}})]}),Object(f.jsx)(Be,{workflow:e[t],bgClassName:"bg-circle-gray-200",className:"border border-r-0 h-full border-b-0 border-circle-gray-300"})]})},Ze=function(e){return Object(f.jsxs)("div",{className:"pb-4",children:[Object(f.jsx)("p",{className:"font-medium text-sm text-circle-gray-500",children:e.type.docsInfo.description}),Object(f.jsx)("a",{className:"ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",href:e.type.docsInfo.link,target:"circleci_docs",children:"Learn More"})]})},De=function(){var e=b((function(e){return e.toast})),t=u((function(e){return e.clearToast}));return Object(a.useEffect)((function(){setTimeout((function(){t()}),3500)}),[e,t]),Object(f.jsx)(f.Fragment,{children:e&&Object(f.jsx)("div",{className:"p-6",children:Object(f.jsxs)("div",{className:"flex flex-row text-white bg-circle-gray-700 p-3 w-full transition-opacity rounded",children:[Object(f.jsx)("p",{className:"font-bold mx-2 overflow-ellipsis overflow-x-hidden whitespace-nowrap my-auto",children:null===e||void 0===e?void 0:e.label}),Object(f.jsx)("p",{className:"my-auto",children:null===e||void 0===e?void 0:e.content})]})})})},Je=function(e){var t=Object(_.e)(e.values.parameters),n=Object(l.a)(t,1)[0],a=u((function(e){return e.navigateTo}));return Object(f.jsx)(_.b,Object(h.a)(Object(h.a)({},n),{},{name:"parameters",render:function(t){return Object(f.jsxs)("div",{className:"p-6 flex flex-col",children:[Object(f.jsx)("button",{type:"button",onClick:function(){Ie.subtypes&&a(ce({typePage:Ie.subtypes.component,typeProps:{component:e.dataMapping},menuPage:ze,menuProps:{dataType:Ie,passBackKey:"parameters",index:-1,source:e.values.parameters?Object.keys(e.values.parameters):void 0}},e.values))},className:"m-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium mb-4",children:"Add Parameter"}),e.values.parameters&&Object.entries(e.values.parameters).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(f.jsxs)("div",{className:"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left",children:[Object(f.jsx)("div",{className:"flex",children:Object(f.jsx)("p",{className:"font-bold",children:n})}),a.description&&Object(f.jsx)("p",{className:"text-sm mt-1 leading-4 whitespace-pre-wrap text-circle-gray-500",children:a.description}),a.defaultValue?Object(f.jsx)("p",{className:"text-sm mt-1 leading-4 whitespace-pre-wrap text-circle-gray-500",children:a.defaultValue}):Object(f.jsx)("p",{className:"text-sm mt-1 leading-4 whitespace-pre-wrap text-circle-gray-500",children:"Required"})]},n)}))]})}}))},Fe=["name"],ze=function(e){var t,n=b((function(e){return e.definitions})),a=u((function(e){return e.generateConfig})),c=u((function(e){return e.navigateBack})),r=u((function(e){return e.setGuideStep})),o=b((function(e){return e.guideStep})),i=e.dataType,s=u((function(t){return(e.editing?null===i||void 0===i?void 0:i.store.update(t):null===i||void 0===i?void 0:i.store.add(t))||t.error})),l=["PROPERTIES"],d=e.values?e.values:e.subtype?null===i||void 0===i?void 0:i.defaults[e.subtype]:null===i||void 0===i?void 0:i.defaults,m=e.subtype||(null===i||void 0===i||null===(t=i.subtypes)||void 0===t?void 0:t.getSubtype(d));return null!==i&&void 0!==i&&i.parameters&&l.push("PARAMETERS"),Object(f.jsxs)("div",{className:"h-full flex flex-col",children:[Object(f.jsxs)("header",{children:[Object(f.jsx)(X,{}),Object(f.jsxs)("div",{className:"ml-6 py-3 flex",children:[function(e){var t=null===i||void 0===i?void 0:i.components.icon;if(t){var n=t;return Object(f.jsx)(n,{className:e})}}("w-8 h-8 p-1 pl-0 mr-1"),Object(f.jsxs)("h1",{className:"text-2xl font-bold",children:[e.editing?"Edit":"New"," ",null===i||void 0===i?void 0:i.name.singular]})]})]}),i&&Object(f.jsx)(_.d,{initialValues:Object(h.a)({},d),validateOnBlur:!0,validate:function(t){var a={},c=(e.source||n[i.type]).findIndex((function(e){return("string"===typeof e?e:e.name)===t.name.trim()}));return-1!==c&&c!==e.index&&(a.name="Name is already in use"),a},enableReinitialize:!0,onSubmit:function(t){var l;if(!e.passBackKey){var u=i.transform(t,n),b=e.editing?{old:d,new:u}:u;s(b)}!e.editing&&o&&(null===(l=i.guide)||void 0===l?void 0:l.step)===o&&r(o+1),c({toast:{label:t.name.trim(),content:"saved",status:"success"},distance:1,apply:function(n){if(e.passBackKey){var a=t.name,c=Object(N.a)(t,Fe);return Object(h.a)(Object(h.a)({},n),{},Object(T.a)({},e.passBackKey,Object(h.a)(Object(h.a)({},n[e.passBackKey]),{},Object(T.a)({},a,c))))}}}),a()},children:function(t){var a,c,r,o;return Object(f.jsxs)(_.c,{className:"flex flex-col flex-1",children:[Object(f.jsxs)($,{tabs:l,activeTab:e.activeTab||0,children:[Object(f.jsxs)("div",{className:"p-6",children:[i.subtypes&&(e.editing?Object(f.jsxs)("div",{className:"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left",children:[Object(f.jsx)("p",{className:"font-bold",children:null===(a=i.subtypes.definitions[m])||void 0===a?void 0:a.text}),Object(f.jsx)("p",{className:"text-sm mt-1 leading-4 text-circle-gray-500",children:null===(c=i.subtypes.definitions[m])||void 0===c?void 0:c.description})]}):Object(f.jsxs)("button",{className:"p-4 mb-4 w-full border-circle-gray-300 border-2 rounded text-left",type:"button",onClick:function(){e.selectSubtype()},children:[Object(f.jsx)("p",{className:"font-bold",children:null===(r=i.subtypes.definitions[m])||void 0===r?void 0:r.text}),Object(f.jsx)("p",{className:"text-sm mt-1 leading-4 text-circle-gray-500",children:null===(o=i.subtypes.definitions[m])||void 0===o?void 0:o.description})]})),i.components.inspector(Object(h.a)(Object(h.a)({},t),{},{definitions:n,subtype:m,data:e.data}))]}),i.parameters?Object(f.jsx)(Je,{dataMapping:i,values:t.values}):null]}),Object(f.jsx)(De,{}),Object(f.jsx)("span",{className:"border-b border-circle-gray-300 mt-auto"}),Object(f.jsxs)("button",{type:"submit",className:"text-white text-sm font-medium p-2 m-6 bg-circle-blue duration:50 transition-all rounded-md2",children:[e.editing?"Save":"Create"," ",null===i||void 0===i?void 0:i.name.singular]})]})}})]})},Ke={Component:ze,Label:function(e){var t;return Object(f.jsxs)("p",{children:[e.editing?"Edit":"New"," ",null===(t=e.dataType)||void 0===t?void 0:t.name.singular]})},Icon:function(e){var t,n=null===(t=e.dataType)||void 0===t?void 0:t.components.icon;if(!n)return null;var a=n;return Object(f.jsx)(a,{className:"w-6 h-8 py-2"})}},Xe=function(e){var t=e.type.components.summary,n=u((function(e){return e.navigateTo})),a=u((function(e){return e.setDragging}));return Object(f.jsx)("button",{className:"w-full mb-2 p-2 text-sm cursor-pointer text-left text-circle-black  bg-white border border-circle-gray-300 rounded-md2 hover:border-gray-700",draggable:"true",onDragStart:function(t){var n=e.type;null!==n&&void 0!==n&&n.dragTarget&&a({dataType:n,data:e.data})},onClick:function(t){if(!(e.data instanceof M.orb.OrbRef)){var a=e.data.generate(),c=Object.entries(a).map((function(e){var t=Object(l.a)(e,2),n=t[0],a=t[1];return Object(h.a)({name:n},a)}))[0];n({component:Ke,props:{data:e.data,editing:!0,values:c,dataType:e.type,index:e.index}})}},children:Object(f.jsx)(t,{data:e.data})})},Ge=function(e){return Object(f.jsx)("svg",{viewBox:"0 0 20 20",className:e.className,fill:e.color,children:Object(f.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10 1.81818C5.4839 1.81818 1.81818 5.4839 1.81818 10C1.81818 14.5161 5.4839 18.1818 10 18.1818C14.5161 18.1818 18.1818 14.5161 18.1818 10C18.1818 5.4839 14.5161 1.81818 10 1.81818ZM0 10C0 4.47974 4.47974 0 10 0C15.5203 0 20 4.47974 20 10C20 15.5203 15.5203 20 10 20C4.47974 20 0 15.5203 0 10ZM10 4.54546C9.49796 4.54546 9.09094 4.95248 9.09094 5.45455C9.09094 5.95663 9.49796 6.36364 10 6.36364C10.5021 6.36364 10.9091 5.95663 10.9091 5.45455C10.9091 4.95248 10.5021 4.54546 10 4.54546ZM10 8.18182C9.49796 8.18182 9.09094 8.58883 9.09094 9.09091V14.5455C9.09094 15.0475 9.49796 15.4545 10 15.4545C10.5021 15.4545 10.9091 15.0475 10.9091 14.5455V9.09091C10.9091 8.58883 10.5021 8.18182 10 8.18182Z",fill:"#161616"})})},Ue=function(e){var t=e.size||8,n={right:"M 0 0 L ".concat(t/2," ").concat(t/2," L 0 ").concat(t),left:"M 0 ".concat(t," L ").concat(t/2," ").concat(t/2," L 0 0"),top:"M 0 ".concat(t/2," L ").concat(t/2," 0 L ").concat(t," ").concat(t/2),bottom:"M 0 0 L ".concat(t/2," ").concat(t," L ").concat(t," 0")},a="top"===e.direction||"bottom"===e.direction;return Object(f.jsx)("svg",{viewBox:"0 0 ".concat(a?t:t/2," ").concat(a?t/2:t),className:e.className,fill:e.color||"#000000",children:Object(f.jsx)("path",{d:n[e.direction]})})},Ye=function(e){var t=Object(a.useState)({left:0,top:0}),n=Object(l.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){!function(){var t=e.target.current.getBoundingClientRect();r({left:t.x-t.width-32,top:t.y+6})}()})),Object(f.jsxs)("div",{style:c,className:"fixed flex z-10",children:[e.children,Object(f.jsx)(Ue,{color:"#FFFFFF",className:"h-3 mt-4",direction:"right"})]})},$e=function(e){var t=b((function(e){return e.guideStep}));return Object(f.jsx)(Ye,{target:e.target,children:Object(f.jsx)("div",{className:"w-80 p-4 bg-white drop-shadow-lg rounded-lg",children:Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsx)(Ge,{className:"w-5 h-5",color:"#000000"}),Object(f.jsxs)("div",{className:"px-3 w-full",children:[Object(f.jsxs)("header",{className:"pb-3 font-bold leading-5",children:["Step ",t," of 3"]}),Object(f.jsx)("div",{className:"font-medium text-sm text-circle-gray-500 whitespace-pre-line",children:e.children}),Object(f.jsx)("div",{className:"w-full flex flex-row pt-2",children:Object(f.jsx)("button",{className:" ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",children:"Dismiss"})})]})]})})})},Qe=function(e){var t=b(e.type.store.get),n=u((function(e){return e.navigateTo})),c=b((function(e){return e.guideStep})),r=Object(a.useRef)(null);return Object(f.jsxs)("div",{ref:r,className:"w-full p-4 pb-0",children:[e.type.guide&&c===e.type.guide.step&&Object(f.jsx)($e,{target:r,children:e.type.guide.info}),Object(f.jsx)(D,{title:e.type.name.plural,expanded:e.expanded,onChange:e.onChange,titleExpanded:Object(f.jsx)("button",{onClick:function(){var t,a;return n(null!==(t=e.type.subtypes)&&void 0!==t&&t.component?ce({typePage:null===(a=e.type.subtypes)||void 0===a?void 0:a.component,menuPage:ze,menuProps:{dataType:e.type,index:-1}}):{component:Ke,props:{dataType:e.type,index:-1}})},className:"ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",children:"New"}),children:Object(f.jsxs)("div",{className:"w-full pl-2 pt-2",children:[Object(f.jsx)(Ze,{type:e.type}),t&&t.length>0?null===t||void 0===t?void 0:t.map((function(t,n){return Object(f.jsx)(Xe,{data:t,type:e.type,index:n},t.name)})):Object(f.jsxs)("div",{className:"font-medium text-sm text-circle-gray-500",children:["No ",e.type.name.plural," found."]})]})}),Object(f.jsx)("div",{className:"w-full p-2 border-b border-circle-gray-300"})]})},et=["jobs","commands","executors"],tt=function(e){return Object(f.jsxs)("div",{className:"p-4 pt-4 pb-0",children:[Object(f.jsx)(D,{expanded:!0,title:e.dataMapping.name.plural||"",children:Object(f.jsxs)("div",{className:"p-2",children:[Object(f.jsx)(Ze,{type:e.dataMapping}),Object.entries(e.data).map((function(t){var n=Object(l.a)(t,2),a=(n[0],n[1]);return Object(f.jsx)(Xe,{type:e.dataMapping,data:a,index:-1})}))]})}),Object(f.jsx)("div",{className:"w-full p-2 border-b border-circle-gray-300"})]})},nt={Component:function(e){var t=b((function(e){return e.definitions})),n=u((function(e){return e.importOrb})),c=Object(a.useState)(),r=Object(l.a)(c,2),o=r[0],i=r[1];Object(a.useEffect)((function(){(function(e){return fetch("".concat("https://temp-orb-manifest-endpoint.herokuapp.com","/orbs?orb=").concat(e)).then((function(e){return e.json()}))})("".concat(e.namespace,"/").concat(e.name,"@").concat(e.version)).then((function(t){i(new M.orb.OrbImport(e.name,e.namespace,e.name,t,e.version))}))}),[i,e]);var s=t.orbs.find((function(e){return e.namespace===(null===o||void 0===o?void 0:o.namespace)&&e.name===o.name}));return Object(f.jsxs)("div",{className:"h-full flex flex-col",children:[Object(f.jsxs)("header",{className:"border-b border-circle-gray-300",children:[Object(f.jsx)(X,{}),Object(f.jsxs)("div",{className:"px-6 p-3",children:[Object(f.jsxs)("div",{className:"flex flex-row",children:[Object(f.jsx)("h2",{className:"text-circle-gray-400",children:e.version}),Object(f.jsx)("h2",{className:"flex ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",children:"Documentation"})]}),Object(f.jsxs)("div",{className:"flex flex-row mt-3",children:[Object(f.jsx)("img",{className:"w-8 h-8 mx-1",src:e.logo_url,alt:""}),Object(f.jsxs)("h1",{className:"ml-2 text-xl font-thin text-circle-gray-500",children:[e.namespace,"/"]}),Object(f.jsx)("h1",{className:"text-xl",children:e.name})]}),Object(f.jsx)("p",{className:"mr-5 py-3 flex text-sm text-circle-gray-400",children:e.description}),s?Object(f.jsx)("button",{className:"text-circle-black bg-gray-200 rounded p-2 w-full hover:border-circle-red hover:bg-red-200 border ",children:"Imported"}):Object(f.jsx)("button",{className:"text-circle-black bg-gray-200 rounded p-2 w-full hover:border-gray-700 border",onClick:function(){o&&n(o)},children:"Import"})]})]}),o?Object(f.jsx)("div",{className:"p-2",children:et.map((function(e){var t,n=(t=e,Re.find((function(e){return e.type===t})));return n?Object(f.jsx)(tt,{dataMapping:n.mapping,data:o[e]}):Object(f.jsx)("p",{children:"Error"})}))}):Object(f.jsx)("div",{children:" "})]})},Label:function(e){return Object(f.jsx)("p",{children:e.name})},Icon:function(e){return Object(f.jsx)("img",{className:"w-4 h-4 mx-1",src:e.logo_url,alt:""})}},at=n(81),ct=n.n(at),rt=n(151),ot=n(147),it=n(148),st=n(152),lt=n(149),dt=ct()("U0RXNGRK45","798b0e1407310a2b54b566250592b3fd");function ut(e){var t=Object(rt.a)(e),n=t.pages,a=t.refine;return Object(f.jsx)("div",{className:"flex flex-row mx-auto",children:n.map((function(e){return Object(f.jsx)("button",{className:"w-9 h-9 border border-circle-gray-300 mx-1 rounded hover:border-gray-700",onClick:function(){a(e+1)},children:e+1},e)}))})}var bt={Component:function(e){var t=u((function(e){return e.navigateTo}));return Object(f.jsxs)("div",{className:"h-full flex flex-col",children:[Object(f.jsxs)("header",{children:[Object(f.jsx)(X,{}),Object(f.jsx)("div",{className:"pl-6 pr-5 py-3 flex text-sm text-circle-gray-500",children:"Make use of curated definitions from official or community orbs to speed up your pipeline building process."})]}),Object(f.jsxs)($,{tabs:["EXPLORE"],activeTab:e.activeTab||0,children:[Object(f.jsx)("div",{className:"p-6",children:Object(f.jsxs)(ot.a,{searchClient:dt,indexName:"orbs-prod",children:[Object(f.jsx)("p",{className:"font-bold leading-5 tracking-wide",children:"Search Filters"}),Object(f.jsx)(S,{className:"mt-2 w-full",children:Object(f.jsx)("option",{children:"Recommended Orbs"})}),Object(f.jsx)(it.a,{placeholder:"Search Orb Directory...",classNames:{form:"my-2 rounded border border-circle-gray-300 px-2 hover:border-circle-gray-700",input:"p-2",submit:"p-2"}}),Object(f.jsx)(st.a,{hidden:!0,items:[{value:6,label:"",default:!0}]}),Object(f.jsx)(lt.a,{className:"overflow-y-auto",hitComponent:function(e){var n=e.hit,a=(e.sendEvent,n);return Object(f.jsx)(pe,{truncate:140,icon:Object(f.jsx)("img",{src:n.logo_url||"https://circleci.com/developer/orb-logos/community.png",className:"w-6 h-6 mr-2 mb-2",alt:""}),pinned:Object(f.jsx)("p",{className:"text-circle-gray-400 text-sm",children:n.version}),title:n.name,description:n.description,onClick:function(){t({component:nt,props:{name:a.name,namespace:a.namespace,version:a.version,logo_url:a.logo_url,description:a.description,url:a.url}})}},n.full_name)}}),Object(f.jsx)("div",{className:"flex px-auto",children:Object(f.jsx)(ut,{padding:2})})]})}),Object(f.jsx)("div",{})]})]})},Label:function(e){return Object(f.jsx)("p",{children:"Orbs"})},Icon:function(e){var t,n=null===(t=e.dataType)||void 0===t?void 0:t.components.icon;if(!n)return null;var a=n;return Object(f.jsx)(a,{className:"w-6 h-8 py-2"})}},mt=function(e){var t=b((function(e){return e.definitions.orbs})),n=u((function(e){return e.navigateTo})),c=Object(a.useRef)(null);return Object(f.jsxs)("div",{ref:c,className:"w-full p-4 pb-0",children:[Object(f.jsx)(D,{title:"Orbs",expanded:e.expanded,onChange:e.onChange,titleExpanded:Object(f.jsx)("button",{onClick:function(){n({component:bt,props:{}})},className:"ml-auto tracking-wide hover:underline leading-6 text-sm text-circle-blue font-medium",children:"Import"}),children:Object(f.jsx)("div",{className:"w-full pl-2 pt-2",children:t&&t.length>0?t.map((function(e){return Object(f.jsxs)("button",{className:"w-full mb-2 p-2 text-sm cursor-pointer text-left text-circle-black  bg-white border border-circle-gray-300 rounded-md2 flex flex-row",onClick:function(){n({component:nt,props:{name:e.name,namespace:e.namespace,version:e.version,description:e.description}})},children:[Object(f.jsxs)("p",{className:"text-circle-gray-400",children:[e.namespace,"/"]}),e.name,Object(f.jsx)("div",{className:"ml-auto text-circle-gray-400",children:e.version})]})})):Object(f.jsx)("div",{className:"font-medium text-sm text-circle-gray-500",children:"No orbs imported."})})}),Object(f.jsx)("div",{className:"w-full p-2 border-b border-circle-gray-300"})]})},jt={Component:function(e){var t=b((function(e){return e.workflows})),n=b((function(e){return e.selectedWorkflow})),a=u((function(e){return e.generateConfig})),c=u((function(e){return e.persistProps})),r=t[n];return Object(f.jsxs)("div",{className:"h-full bg-white flex flex-col overflow-y-auto",children:[Object(f.jsxs)("header",{className:"ml-4 mb-4 flex",children:[Object(f.jsx)(g,{className:"w-8 h-8 p-1 mr-1"}),Object(f.jsx)("h1",{className:"text-2xl font-bold",children:r.name})]}),Object(f.jsxs)($,{tabs:["DEFINITIONS","PROPERTIES"],children:[Object(f.jsxs)("div",{className:"p-2 flex-1 h-full w-full flex-col",children:[Object(f.jsx)(mt,{}),Re.map((function(t,n){var a=t.mapping;return Object(f.jsx)(Qe,{type:a,expanded:e.expanded[n],onChange:function(t){c(Object(h.a)(Object(h.a)({},e),{},{expanded:e.expanded.map((function(e,a){return a===n?t:e}))}))}},a.name.plural)}))]}),Object(f.jsx)("div",{className:"p-6",children:Object(f.jsx)(_.d,{initialValues:{name:r.name},enableReinitialize:!0,onSubmit:function(e){},children:function(e){return Object(f.jsx)(_.c,{className:"flex flex-col flex-1",children:Object(f.jsx)(W,{label:"Name",name:"name"})})}})})]}),Object(f.jsx)(De,{}),Object(f.jsx)("span",{className:"border-b border-circle-gray-300"}),Object(f.jsx)("button",{className:"text-white text-sm font-medium p-2 m-6 bg-circle-blue duration:50 transition-all rounded-md2",onClick:function(e){return a()},children:"Generate Config"})]})},Label:function(e){return Object(f.jsx)("p",{children:"Definitions"})}},ft={persistProps:Object(i.b)((function(e,t){e.navigation=Object(h.a)(Object(h.a)({},e.navigation),{},{props:t})})),setAltAction:Object(i.b)((function(e,t){e.altAction=t})),setConnecting:Object(i.b)((function(e,t){t.ref?e.connecting={intent:e.altAction?"deleting":"creating",start:t}:e.connecting=void 0})),updateConnecting:Object(i.b)((function(e,t){var n;null!==(n=e.connecting)&&void 0!==n&&n.start&&(e.connecting=Object(h.a)(Object(h.a)({},e.connecting),{},{end:t}))})),setPlaceholder:Object(i.b)((function(e,t){var n=e.workflows[e.selectedWorkflow];e.placeholder?e.workflows[e.selectedWorkflow]=Object(h.a)(Object(h.a)({},n),{},{elements:n.elements.map((function(n){var a;return n.id===(null===(a=e.placeholder)||void 0===a?void 0:a.id)?t:n}))}):n.elements.push(t),e.placeholder={index:n.elements.length-1,id:n.id}})),setGuideStep:Object(i.b)((function(e,t){e.guideStep=t})),navigateTo:Object(i.b)((function(e,t){var n=e.navigation;n.jumpedFrom&&(e.navigation.jumpedFrom=void 0);for(var a=n.from;void 0!==(null===(c=a)||void 0===c?void 0:c.from);){var c;a=a.from}e.navigation=Object(h.a)(Object(h.a)({},t),{},{from:t.origin&&a?a:Object(h.a)(Object(h.a)({},n),{},{props:Object(h.a)(Object(h.a)({},n.props),{},{values:t.values})})})})),navigateBack:Object(i.b)((function(e,t){var n=(null===t||void 0===t?void 0:t.distance)||1;if(e.navigation.from){for(var a,c,r=e.navigation,o=0;o<n;o++){if(!r.from)throw new Error("Tried to navigate back to an undefined component!");r=r.from}var i,s=(null===t||void 0===t||null===(a=t.apply)||void 0===a?void 0:a.call(t,r.props.values))||r.props.values;i=null!==(c=r.props)&&void 0!==c&&c.menuProps?Object(h.a)(Object(h.a)({},r.props),{},{menuProps:Object(h.a)(Object(h.a)({},r.props.menuProps),{},{values:s})}):Object(h.a)(Object(h.a)({},r.props),{},{values:s}),e.navigation=Object(h.a)(Object(h.a)({},r),{},{props:i,jumpedFrom:n>1?e.navigation:void 0})}else e.navigation={component:jt,props:{}};e.toast=null===t||void 0===t?void 0:t.toast})),setDragging:Object(i.b)((function(e,t){e.dragging=t})),addWorkflow:Object(i.b)((function(e,t){e.workflows=e.workflows.concat({name:t,id:Object(P.a)(),elements:[]}),e.stagedJobs=Object(h.a)({},e.stagedJobs)})),selectWorkflow:Object(i.b)((function(e,t){e.selectedWorkflow=t})),removeWorkflow:Object(i.b)((function(e,t){e.workflows=e.workflows.filter((function(e){return e.id!==t.id}))})),addWorkflowElement:Object(i.b)((function(e,t){var n=e.workflows[e.selectedWorkflow];if("jobs"===t.type){var a=t.data.name,c=e.stagedJobs.workflows,r=c[n.name];n.name in e.stagedJobs.workflows?r[a]?r[a]++:r[a]=1:c[n.name]=Object(T.a)({},a,1),e.stagedJobs={workflows:c}}n.elements.push(t)})),removeWorkflowElement:Object(i.b)((function(e,t){var n=e.workflows[e.selectedWorkflow],a=e.stagedJobs,c=a.workflows[n.name];e.workflows[e.selectedWorkflow]=Object(h.a)(Object(h.a)({},n),{},{elements:n.elements.filter((function(n,r){var o=n.id===t;if(o&&"jobs"===n.type){var i=n.data.name;c[i]&&(c[i]--,0===c[i]&&delete c[i],e.stagedJobs={workflows:a.workflows})}return!o}))})})),setWorkflowElements:Object(i.b)((function(e,t){e.workflows[e.selectedWorkflow].elements=t})),defineJob:Object(i.b)((function(e,t){var n;null===(n=e.definitions.jobs)||void 0===n||n.push(t)})),updateJob:Object(i.b)((function(e,t){if(e.definitions.jobs){var n=e.workflows[e.selectedWorkflow];n.elements=n.elements.map((function(e){return Object(A.h)(e)&&"job"===e.type&&e.data.job.name===t.old.name?Object(h.a)(Object(h.a)({},e),{},{data:Object(h.a)(Object(h.a)({},e.data),{},{job:t.new})}):e})),e.definitions.jobs=e.definitions.jobs.map((function(e){return e.name===t.old.name?t.new:e}))}})),undefineJob:Object(i.b)((function(e,t){var n;e.definitions.jobs=null===(n=e.definitions.jobs)||void 0===n?void 0:n.filter((function(e){return e.name===t.name}))})),defineExecutor:Object(i.b)((function(e,t){var n;e.definitions.executors=null===(n=e.definitions.executors)||void 0===n?void 0:n.concat(t)})),updateExecutor:Object(i.b)((function(e,t){var n;e.definitions.executors=null===(n=e.definitions.executors)||void 0===n?void 0:n.map((function(e){return e.name===t.old.name?t.new:e}))})),undefineExecutor:Object(i.b)((function(e,t){var n;null===(n=e.definitions.executors)||void 0===n||n.filter((function(e){return e.name!==t.name}))})),defineParameter:Object(i.b)((function(e,t){var n;e.definitions.parameters=null===(n=e.definitions.parameters)||void 0===n?void 0:n.concat(t)})),updateParameter:Object(i.b)((function(e,t){})),undefineParameter:Object(i.b)((function(e,t){var n;null===(n=e.definitions.parameters)||void 0===n||n.filter((function(e){return e.name!==t.name}))})),defineCommand:Object(i.b)((function(e,t){var n;e.definitions.commands=null===(n=e.definitions.commands)||void 0===n?void 0:n.concat(t)})),updateCommand:Object(i.b)((function(e,t){})),undefineCommand:Object(i.b)((function(e,t){var n;null===(n=e.definitions.commands)||void 0===n||n.filter((function(e){return e.name!==t.name}))})),importOrb:Object(i.b)((function(e,t){var n;e.definitions.orbs.find((function(e){return e.name===t.name&&e.namespace===t.namespace}))||(null===(n=e.definitions.orbs)||void 0===n||n.push(t))})),unimportOrb:Object(i.b)((function(e,t){e.definitions.orbs=e.definitions.orbs.filter((function(e){return e.name!==t.name&&e.namespace!==t.namespace}))})),error:Object(i.b)((function(e,t){console.error("An action was not found! ",t)})),loadConfig:Object(i.b)((function(e,t){try{var n,a=M.parsers.parseConfig(t);e.definitions={workflows:a.workflows,jobs:a.jobs,executors:a.executors||[],parameters:(null===(n=a.parameters)||void 0===n?void 0:n.parameters)||[],commands:a.commands||[],orbs:a.orbs||[]};var c=function(e){var t,n=e instanceof M.workflow.WorkflowJob?e.job.name:e.name;return(null===(t=e.parameters)||void 0===t?void 0:t.name)||n},r={};e.workflows=a.workflows.map((function(e){var t=e.name,n=e.jobs,a={},o={},i={};n.forEach((function(e){var t,n,r=c(e);if(o[r]=e,e instanceof M.workflow.WorkflowJob){var s=e.job.name;a[s]>0?a[s]++:a[s]=1}null===(t=e.parameters)||void 0===t||null===(n=t.requires)||void 0===n||n.forEach((function(e){i[e]=!0}))})),r[t]=a;var s=n.filter((function(e){return!(c(e)in i)})),l=[],d=[],u={},b=function e(t){var n,a=c(t);if(void 0!==u[a])return u[a];var r={col:0,row:0};if(null!==(n=t.parameters)&&void 0!==n&&n.requires){var i=0,s=0;t.parameters.requires.forEach((function(t){var n;n=void 0===u[t]?e(o[t]):u[t],s=Math.max(s,n.row),i=Math.max(i,n.col),l.push({id:Object(P.a)(),source:t,target:a,type:"requires",sourceHandle:"".concat(t,"_source"),targetHandle:"".concat(a,"_target"),animated:!1,style:{stroke:"#A3A3A3",strokeWidth:"2px"}})})),r.col=i+1,r.row=s}return d.length>r.col?d[r.col]++:d.push(1),r.row=Math.max(d[r.col],r.row),l.push({id:a,data:t,connectable:!0,dragHandle:".node",type:"jobs",position:{x:250*r.col,y:60*r.row}}),u[a]=r,r};return s.forEach((function(e){b(e)})),{name:t,id:Object(P.a)(),elements:l}})),e.stagedJobs={workflows:r},e.config=a.generate()}catch(i){if(!(i instanceof Error))return void(e.errorMessage="Caught unhandled exception:\n ".concat(i));var o=i;e.errorMessage=o.message,console.error(o)}})),generateConfig:Object(i.b)((function(e,t){var n=e.workflows.map((function(e){var t=e.elements.filter((function(e){return e.type===Te.type})).map((function(e){return e.data}));return new M.Workflow(e.name,t)})),a=e.definitions,c=function(e,t){return t?[].concat(Object(L.a)(e),Object(L.a)(t)):e},r=c(a.parameters,null===t||void 0===t?void 0:t.parameters),o=r.length>0?new M.parameters.CustomParametersList(r):void 0,i=new M.Config(!1,c(a.jobs,null===t||void 0===t?void 0:t.jobs),n,c(a.executors,null===t||void 0===t?void 0:t.executors),c(a.commands,null===t||void 0===t?void 0:t.commands),o,c(a.orbs,null===t||void 0===t?void 0:t.orbs));t?e.editingConfig=i.generate():(e.config=i.generate(),e.editingConfig=void 0)})),updatePreviewToolBox:Object(i.b)((function(e,t){e.previewToolbox=t})),clearToast:Object(i.b)((function(e){e.toast=void 0}))},pt=Object(h.a)({selectedWorkflow:0,editingConfig:void 0,config:void 0,guideStep:1,navigation:{component:jt,props:{expanded:[!0,!0,!1,!1]}},previewToolbox:{filter:{type:"branches",pattern:"",preview:!1}},definitions:{commands:[],executors:[],jobs:[],workflows:[],parameters:[],orbs:[]},stagedJobs:{workflows:{"build-and-test":{}}},workflows:[{name:"build-and-test",elements:[],id:Object(P.a)()}]},ft),xt=Object(i.c)(pt),vt=function(){var e=function(){var e=Object(a.useState)(m()),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){function e(){c(m())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),n}();return Object(f.jsx)(i.a,{store:xt,children:Object(f.jsxs)("section",{className:"flex flex-row h-full",children:[Object(f.jsxs)("section",{className:"flex flex-col flex-nowrap flex-1",style:{width:e.width-320},children:[Object(f.jsx)(He,{}),Object(f.jsx)(v,{})]}),Object(f.jsx)(O,{width:320})]})})};n(141);o.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(vt,{})}),document.getElementById("root"))},77:function(e){e.exports=JSON.parse('{"a":"v0.8.0"}')}},[[142,1,2]]]);
//# sourceMappingURL=main.088b3cda.chunk.js.map